!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),r=t(a),o=n(3),i=t(o),l=n(7),c=n(8),s=t(c),u=n(15),d=n(16);n(17),e.React=r["default"];var p=(0,d.RBAuthRoute)({path:"/",chunkLoader:function(e){e(n(18),n(30),n(56),n(132),n(215),n(331))}});d.RBAuthRoute.onEnter=function(e,t,n){if(!i["default"].isLogin())return i["default"].login();var a=e.location.pathname,r=["/dashboard","/market/waitorder","/market/shiporder/create"];return"/"==a&&(a=r[0],t(r[0])),r.includes(a)||/\/view\/[A-Za-z0-9-]+$/.test(a)?n():void(0,s["default"])("login/menuList").then(function(e){var r=e.data,o=r.filter(function(e){return e.url==a}).shift();if(o){if(0==o.parentid){var i=r.filter(function(e){return e.parentid==o.id}).shift();i&&t(i.url)}}else t(a.replace(/\/[^\/]+$/,""));n()})},(0,l.render)(r["default"].createElement(u.Router,{history:u.hashHistory,routes:p}),document.getElementById("app"))}).call(t,function(){return this}())},function(e,t,n){e.exports=n(2)(2)},function(e,t){e.exports=vendor_2d69fd53d97563906b69},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=location.href.match(b);return!!e&&e[1]}function o(){var e=f+"?ref="+encodeURIComponent(window.location.href.replace(/\?.+/,""));window.location.href=e}function i(e){return(0,u["default"])({url:p["default"]+"/login/checkSid",method:"get",type:"json",crossOrigin:!0,withCredentials:!0,data:{sid:e}})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),c=a(l),s=n(5),u=a(s),d=n(6),p=a(d),f="https://login.ops.qihoo.net:4430/sec/login",m="ERPSTATUS",h="ERPUSER",b=/\?sid\=(\w+)/,g={login:function(){var e=r();return e?void i(e).then(function(e){var t=e.data;g.setUserContext(t),location.href=location.protocol+"//"+location.host}):o()},logout:function(){return c["default"].remove(m),c["default"].remove(h),o()},getUserContext:function(){var e={};try{e=JSON.parse(c["default"].get(h))}catch(t){console.log(t)}return e||{}},setUserContext:function(e){c["default"].set(h,JSON.stringify(e))},isLogin:function(){return c["default"].get(m)&&g.getUserContext().useremail}};t["default"]=g},function(e,t,n){e.exports=n(2)(253)},function(e,t,n){e.exports=n(2)(251)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;n=location.host.includes("etest.mall.360.com")?"http://e1.mall.360.com":location.protocol+"//"+location.host,t["default"]=n},function(e,t,n){e.exports=n(2)(31)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r={data:{},method:"get",type:"json",crossOrigin:!0,withCredentials:!0};return"string"==typeof e?r.url=d["default"]+"/"+e:"object"===("undefined"==typeof e?"undefined":o(e))&&(Object.assign(r,e),r.url=d["default"]+"/"+r.url),r.data._t=Date.now(),new Promise(function(e,t){l["default"].apply(void 0,[r].concat(n)).then(function(n){return 0==n.errno?e(n):(10002==n.errno&&s["default"].logout(),t(n),void(0!=n.errno&&n.errmsg&&f["default"].error(n.errmsg)))})})}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=n(5),l=a(i),c=n(3),s=a(c),u=n(6),d=a(u),p=n(9),f=a(p);t["default"]=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,n(10);var r=n(14),o=a(r);t["default"]=o["default"]},function(e,t,n){var a=n(11);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".rb-alert{position:absolute;z-index:100000;left:50%;top:5px;transform:translate(-50%)}.rb-alert--hide{display:none}.rb-alert__content{margin:10px auto;width:100%;height:24px;line-height:24px;color:#fff;border-radius:2px;padding:0 10px}.rb-alert__message{float:left}.rb-alert__close{width:24px;height:24px;text-align:center;line-height:24px;float:right;cursor:pointer}.rb-alert__content--error{background-color:#ff0f00}.rb-alert__content--error .rb-alert__close:before{content:'X'}.rb-alert__content--success{background-color:#4aab27}.rb-alert__content--success .rb-alert__close{display:none}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(a[o]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&a[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=f[a.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(s(a.parts[o],t))}else{for(var i=[],o=0;o<a.parts.length;o++)i.push(s(a.parts[o],t));f[a.id]={id:a.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],o=r[0],i=r[1],l=r[2],c=r[3],s={css:i,media:l,sourceMap:c};n[o]?n[o].parts.push(s):t.push(n[o]={id:o,parts:[s]})}return t}function o(e,t){var n=b(),a=v[v.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function s(e,t){var n,a,r;if(t.singleton){var o=y++;n=g||(g=l(t)),a=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),a=p.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),a=d.bind(null,n),r=function(){i(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function u(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function d(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var f={},m=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),b=m(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return a(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var l=n[i],c=f[l.id];c.refs--,o.push(c)}if(e){var s=r(e);a(s,t)}for(var i=0;i<o.length;i++){var c=o[i];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete f[c.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RBAlert=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u={},d=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={messages:[]},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.id||"__global__";if(u[t])throw new Error("Only one Alert instance is allowed with same id "+t+", use a different id value.");u[t]=function(t){e.handleMessageArrived(t)}}},{key:"componentWillUnmount",value:function(){delete u[this.props.id||"__global__"],this.state.messages=[],clearTimeout(this.timeoutId)}},{key:"handleMessageArrived",value:function(e){var t=this.state.messages;t.length>0&&t[t.length-1].message===e.message?1===t.length&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null,this.scrolling=!1):t.push(e),this.forceUpdate(),this.scrollMessages(!0)}},{key:"invokeCallback",value:function(e){e=e[0],e.cb&&e.cb()}},{key:"scrollMessages",value:function(e){var t=this;this.scrolling&&e||(this.scrolling=!0,this.timeoutId=setTimeout(function(){for(var e=null,n=0,a=t.state.messages.length;n<a;n++)if("error"!==t.state.messages[n].type){e=n;break}if(null!==e){var r=t.state.messages.splice(e,1);t.invokeCallback(r),t.forceUpdate(),t.scrollMessages(!1)}else t.scrolling=!1},1e3))}},{key:"handleCloseAlert",value:function(e){var t=this.state.messages,n=t.splice(e,1);this.invokeCallback(n),this.setState({messages:t})}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",{className:"rb-alert"+(this.state.messages.length?"":" rb-alert--hide")},this.state.messages.map(function(t,n){return s["default"].createElement("div",{key:n,className:"rb-alert__content rb-alert__content--"+t.type},s["default"].createElement("div",{className:"rb-alert__message"},t.message),s["default"].createElement("div",{className:"rb-alert__close",onClick:function(){return e.handleCloseAlert(n)}}))}))}}]),t}(s["default"].Component);t["default"]=d,d.show=function(e,t,n){var a=arguments.length<=3||void 0===arguments[3]?"__global__":arguments[3];if(!u[a])throw new Error("No alert instance found with id of "+a);u[a]({message:e,type:t,cb:n,id:a})},d.info=function(e,t,n){return d.show(e,"success",n,t)},d.error=function(e,t,n){return d.show(e,"error",n,t)},t.RBAlert=d},function(e,t,n){e.exports=n(2)(168)},function(e,t){"use strict";function n(e){var t=e.chunkLoader,a=e.path,r=e.onEnter,o={path:a,getComponent:function(e,n){t(function(e){return n(null,e&&e["default"]||e)})},onEnter:function(e,t,a){(r||n.onEnter)(e,t,a)},getChildRoutes:function(e,n){t(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(null,t.slice(1).map(function(e){return e["default"]||e}))})}};return o}Object.defineProperty(t,"__esModule",{value:!0}),n.onEnter=function(e,t,n){n()},t["default"]=n,t.RBAuthRoute=n},function(e,t,n){e.exports=n(2)(254)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(19),s=a(c),u=n(22),d=a(u),p=n(9),f=a(p);n(28);var m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return React.createElement("div",{className:"page"},React.createElement(f["default"],null),React.createElement(d["default"],null),this.props.children)}}]),t}(s["default"]);t["default"]=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=n(20),d=n(21),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.__stores=[],n.__listens=[],n}return i(t,e),l(t,[{key:"_getStoreIndex",value:function(e){var t=this.__stores.indexOf(e);return t>-1?t:(this.__stores.push(e),this.__stores.length-1)}},{key:"listen",value:function(e,t,n){var a=this,r=this._getStoreIndex(e);this.__listens[r]||(this.__listens[r]=[],this.listenTo(e,function(e,t){a.__listens[r].forEach(function(n){n(e,t)})})),n.split(/\s+/).forEach(function(e){a.__listens[r].push(function(n,r){(e&&e===r||!e)&&t.bind(a)(n,r)})})}},{key:"currency",value:function(e){e||(e=0);var t=Number(e);return Number.isNaN(e)?e:t.toLocaleString("zh-Hans-CN",{style:"currency",currency:"CNY"})}}]),t}(s["default"].Component);t.Base=p=(0,u.decorate)(d.ListenerMixin)(p),t.Base=p,t["default"]=p},function(e,t,n){e.exports=n(2)(165)},function(e,t,n){e.exports=n(2)(232)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(3),p=a(d),f=n(15),m=n(23),h=a(m),b=n(24),g=a(b),y=n(25);n(26);var v=(0,h["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={userName:p["default"].getUserContext().username,urls:g["default"]},i=n,o(a,i)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){this.listen(y.FuncStore,this.menuListLoaded,"getMenuListSuccess"),y.FuncActions.getMenuList()}},{key:"menuListLoaded",value:function(e){var t=this.state.urls,n=e.map(function(e){return e.url});t=t.filter(function(e){var t=e.url,a=e.allow;return a||n.includes(t)}),this.setState({urls:t})}},{key:"logout",value:function(){p["default"].logout()}},{key:"checkActive",value:function(e){if(e.target.classList.contains("active"))return e.preventDefault()}},{key:"isDevENV",value:function(){return location.host.includes("etest.mall.360.com")||location.host.includes("e1.mall.360.com")}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"header"},React.createElement("div",{className:"header__title",style:{backgroundColor:this.isDevENV()?"#707070":"#1f7fd0"}},React.createElement("h1",null,React.createElement("img",{src:"/src/images/logo.svg",width:"80px"}),"IOT销售公司账套--360IOT事业线ERP系统",this.isDevENV()?"(测试环境)":""),React.createElement("div",{className:"header__user"},React.createElement("span",{className:"header__user__name"},this.state.userName),React.createElement("span",{className:"header__user__logout",onClick:this.logout},"注销"))),React.createElement("div",{className:"header__nav"},React.createElement("ul",null,this.state.urls.map(function(t,n){return React.createElement("li",{key:n},React.createElement(f.Link,{to:t.url,activeClassName:"active",onClick:e.checkActive},React.createElement("i",{className:"icon iconfont icon-"+t.icon}),t.label))}))))}}]),t}(u["default"]))||l;t["default"]=v},function(e,t,n){e.exports=n(2)(164)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=[{url:"/dashboard",label:"首页",icon:"shouye",allow:!0},{url:"/purchase",label:"采购系统",icon:"caigouguanli"},{url:"/market",label:"销售系统",icon:"baoxiao"},{url:"/store",label:"仓储系统",icon:"rukuguanli"},{url:"/setting",label:"基础设置",icon:"Set_up"}]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_IDS=t.FuncStore=t.FuncActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c=function d(e){return e.forEach(function(e){var t=e.id,n=e.name;delete e.id,delete e.name,e.label=n,e.value=t,e.children?e.children=d(e.children):delete e.children}),e},s={asyncResult:!0},u=t.FuncActions=o["default"].createActions({getMenuList:s,getResources:s,getDistrict:s});t.FuncStore=o["default"].createStore({listenables:u,onGetMenuList:function(){var e=this;(0,l["default"])("login/menuList").then(function(t){return e.trigger(t.data,"getMenuListSuccess")},function(t){return e.trigger(t.errmsg,"getMenuListFailed")})},onGetResources:function(e){var t=this;(0,l["default"])("login/menuList").then(function(n){var a=n.data.filter(function(t){var n=t.url;return n===e}).shift();a?(0,l["default"])({url:"login/getResourcesByMenuId",method:"get",data:{menuId:a.id}}).then(function(e){return t.trigger(e.data.map(function(e){var t=e.id;return t}),"getResourcesSuccess")},function(e){return t.trigger(e.errmsg,"getResourcesFailed")}):t.trigger([],"getResourcesSuccess")})},onGetDistrict:function(){var e=this;try{throw Error("取消缓存功能")}catch(t){(0,l["default"])("consumer/getAllProvince").then(function(t){var n=c(t.data),a={data:n,expire:Date.now()+2592e6};localStorage.district=JSON.stringify(a),e.trigger(n,"getDistrictSuccess")},function(t){return e.trigger(t.errmsg,"getDistrictFailed")})}}}),t.MENU_IDS={IMPORT_ARCHIVE:2,ADD_NEW_SALES_PRICE:7,ADD_NEW_CUSTOMER:6,SUSPEND_SHIP_ORDER:13,EXPORT_SHIP_ORDER:14,IMPORT_RETURN_ORDER:17,EXPORT_RETURN_ORDER:18,ADD_NEW_STOCK_PRICE:4,EXPORT_SALES_ORDER:12}},function(e,t,n){var a=n(27);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".header__title{width:100%;color:#fff;height:80px;padding:0 22px;background:#1f7fd0}.header__title h1{margin:0;float:left;font-size:20px;margin-left:10px;line-height:80px}.header__title h1 img{position:relative;top:-4px;margin-right:15px}.header__user{float:right;line-height:80px}.header__user__name{margin-right:20px}.header__user__logout{cursor:pointer;border-bottom:1px solid #fff}.header__nav{height:45px;background:#fff;padding:5px 10px 0}.header__nav ul{list-style:none;padding:0;margin:1em}.header__nav ul>li{display:inline-block}.header__nav a{cursor:pointer}.header__nav a:active,.header__nav a:hover,.header__nav a:link,.header__nav a:visited{text-decoration:none;color:#1d2b47;font-size:14px;padding:7px 45px}.header__nav a.active,.header__nav a:hover{background:#ebf2f5;color:#1f7ecf}.header__nav a i.icon{margin-right:5px}.main{width:100%;padding:10px;background:#ebf2f5;height:calc(100% - 125px)}",""])},function(e,t,n){var a=n(29);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,"*{box-sizing:border-box}#app,.page,body,html{padding:0;margin:0;width:100%;height:100%;font-size:14px;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,\\\\5FAE\\8F6F\\96C5\\9ED1,Arial,sans-serif}body{min-width:1265px}ol,ul{margin:0;padding:0}.hlight{color:#ff7800}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.table-btn,a,a:hover,a:link,a:visited{color:#2074c1;text-decoration:none;cursor:pointer}.table-btn.underline,a.underline,a:hover.underline,a:link.underline,a:visited.underline{text-decoration:underline}.form-group>label{margin-right:10px}.form-control{box-shadow:none;border-radius:0;display:inline-block;border:1px solid #ebf2f5}.form-control+.input-group-addon{background:none;border:none}.help-block{margin-left:15px}.help-block,.radio-group-inline>div{display:inline-block}.radio-group-inline>div+div{margin-left:30px}.btn,.btn.active,.btn.active:focus,.btn.active:hover,.btn.focus,.btn.hover,.btn:active,.btn:active:focus,.btn:active:hover,.btn:focus,.btn:hover{outline:0;border-radius:0;padding:0 30px;line-height:32px;border:none}.btn-default,.btn-default.active,.btn-default.active:focus,.btn-default.active:hover,.btn-default.focus,.btn-default.hover,.btn-default:active,.btn-default:active:focus,.btn-default:active:hover,.btn-default:focus,.btn-default:hover{background:#e8ebeb;color:#708099}.btn-primary,.btn-primary.active,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary.focus,.btn-primary.hover,.btn-primary:active,.btn-primary:active:focus,.btn-primary:active:hover,.btn-primary:focus,.btn-primary:hover{background:#1f7fd0}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"dashboard",chunkLoader:function(e){e(n(31))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(32),m=a(f),h=n(9),b=a(h),g=n(34),y=a(g),v=n(39),E=a(v),k=n(15),w=n(33),x=a(w),R=n(49),S=a(R),_=n(23),O=a(_),N=n(52),C=n(25),P=n(53);n(54);var T=(0,O["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={quicks:[{url:"/store/stock",label:"库存查询",color:"#ffa991",show:!1},{url:"/market/salesorder/create",label:"销售订单",color:"#ffee6b",show:!1},{url:"/market/salesorder/list",label:"销售订单列表",color:"#c4ff7d",show:!1},{url:"/market/swaporder/create",label:"换货申请单",color:"#85deff",show:!1},{url:"/market/swaporder/list",label:"换货申请单列表",color:"#7d89ff",show:!1},{url:"/market/shiporder/list",label:"发货申请单列表",color:"#e16bff",show:!1}],notices:[],alerts:[],data:[],totalCount:0,pageSize:5,pageNo:1,auditModalShow:!1,auditModalData:{}},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(C.FuncStore,this.getMenuList,"getMenuListSuccess"),this.listen(P.DashboardStore,function(t){return e.setState({notices:t})},"getDashboardNoticeSuccess"),this.listen(P.DashboardStore,function(t){return e.setState({alerts:t})},"getDashboardAlertSuccess"),this.listen(P.DashboardStore,function(t){return e.setState(t)},"getDashboardTaskSuccess"),this.listen(P.DashboardStore,function(t){return e.setState({auditModalShow:!1}),e.loadPage(),""!=t?e.setState({showConfirmModal:!0,confirmModalData:t}):void b["default"].info("审核成功")},"approveOrderSuccess"),P.DashboardActions.getAlerts(),P.DashboardActions.getNotice(),C.FuncActions.getMenuList()}},{key:"getMenuList",value:function(e){var t=e.map(function(e){var t=e.url;return t}),n=this.state.quicks;n.forEach(function(e){return e.show=t.includes(e.url)}),this.setState({quicks:n})}},{key:"loadPage",value:function(){P.DashboardActions.getTasks(this.state.pageNo)}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageNo=t,this.state.pageSize=n,this.loadPage()}},{key:"onValidSubmit",value:function(e){var t=e.pass,n=e.note;P.DashboardActions.approve(this.state.auditModalData.ticketCode,t,n)}},{key:"detailLink",value:function(e){var t=e.ticketCode,n="XSDD"===t.slice(0,4).toUpperCase()?"salesorder":"swaporder";return"/market/"+n+"/view/"+t}},{key:"renderAuditButton",value:function(e){var t=this;return e.operations.includes("审核")?React.createElement("span",{className:"table-btn",onClick:function(){return t.setState({auditModalShow:!0,auditModalData:e})}},"审核"):null}},{key:"renderShipButton",value:function(e){var t=this;return e.operations.includes("发货")?React.createElement("span",{className:"table-btn",onClick:function(){return t.context.router.push({pathname:"/market/shiporder/create",query:{id:e.ticketCode}})}},"发货"):null}},{key:"renderTaskItems",value:function(){var e=this;return this.state.data.reduce(function(t,n,a){var r=n.itemList.length,o=n.itemList[0];if(t.push(React.createElement("tr",{className:(0,x["default"])({"table-hlight":a%2,"table-normal":!(a%2)}),key:1e5*(a+1)},React.createElement("td",{rowSpan:r,className:"text-center"},React.createElement(k.Link,{to:e.detailLink(n)},n.ticketCode)),React.createElement("td",{rowSpan:r,className:"text-center"},n.ticketType),React.createElement("td",{rowSpan:r,className:"text-center"},n.consumer),React.createElement("td",{className:"text-left"},o.itemName),React.createElement("td",{className:"text-right"},o.count),React.createElement("td",{className:"text-right"},o.price),React.createElement("td",{rowSpan:r,className:"text-right"},n.totalPrice),React.createElement("td",{rowSpan:r,className:"text-center"},n.applier),React.createElement("td",{rowSpan:r,className:"text-left"},e.renderAuditButton(n),e.renderShipButton(n)))),n.itemList.length>1)for(var i=1;i<n.itemList.length;i++){var l=n.itemList[i];t.push(React.createElement("tr",{key:1e5*(a+1)+100*(i+1),className:(0,x["default"])({"table-hlight":a%2,"table-normal":!(a%2)})},React.createElement("td",{className:"text-left"},l.itemName),React.createElement("td",{className:"text-right"},l.count),React.createElement("td",{className:"text-right"},l.price)))}return t},[])}},{key:"render",value:function(){var e=this,t=this.state.quicks.filter(function(e){var t=e.show;return t});return React.createElement("div",{className:"main"},React.createElement("div",{className:"main__content"},React.createElement(S["default"],{title:"快捷入口"},React.createElement("ul",{className:"main__quick-entry"},t.map(function(e,t){var n=e.url,a=e.label,r=e.color;return React.createElement("li",{key:t},React.createElement(k.Link,{to:n,style:{background:r}},a))}))),React.createElement(S["default"],{title:React.createElement("div",null,React.createElement("span",null,"待办任务（",React.createElement("span",{className:"hlight"},this.state.data.length),"）"),React.createElement(k.Link,{to:"/market/waitorder",target:"_blank",className:"underline pull-right"},"更多")," "),className:"block-to-be-done"},React.createElement(y["default"],{totalCount:this.state.totalCount,pagesize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"单据号"),React.createElement("th",null,"单据类型"),React.createElement("th",null,"供应商/客户"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"数量"),React.createElement("th",null,"金额"),React.createElement("th",null,"合计金额"),React.createElement("th",null,"申请人"),React.createElement("th",null,"操作"))),React.createElement("tbody",null,this.renderTaskItems())))),React.createElement("div",{className:"main__sidebar"},React.createElement(S["default"],{title:React.createElement("span",null,React.createElement(m["default"],{name:"gonggao",className:"hlight"}),"系统公告"),bsSize:"sm",className:"block-notice"},React.createElement("ol",null,this.state.notices.map(function(e,t){return React.createElement("li",{key:t},React.createElement("span",null,e.message),e.url?React.createElement("a",{href:e.url,className:"underline"},e.operation):null)}))),React.createElement(S["default"],{title:React.createElement("span",null,React.createElement(m["default"],{name:"iconfontjinggao1",className:"hlight"}),"预警信息（",React.createElement("span",{className:"hlight"},this.state.alerts.length),"）"),className:"block-alert"},React.createElement("ol",null,this.state.alerts.map(function(e,t){return React.createElement("li",{key:t},React.createElement("div",null,React.createElement("span",null,e.message),e.url?React.createElement(k.Link,{to:e.url,className:"underline"},e.operation):null),React.createElement("div",{className:"date"},"("+e.date+")"))})))),React.createElement(E["default"],{bsSize:"sm",title:"审核",show:this.state.auditModalShow,onHide:function(){return e.setState({auditModalShow:!1})}},React.createElement(N.Form,{onValidSubmit:this.onValidSubmit},React.createElement(E["default"].Body,null,React.createElement(N.RadioGroup,{name:"pass",wrapperClassName:"radio-group-inline"},React.createElement(N.Radio,{value:"0",label:"通过"}),React.createElement(N.Radio,{value:"1",label:"不通过"})),React.createElement(N.ValidatedInput,{type:"textarea",name:"note",placeholder:"请输入备注信息"})),React.createElement(E["default"].FooterOk,{okLabel:"提交"}))),React.createElement(E["default"],{title:"自动发货提示",show:this.state.showConfirmModal,onHide:function(){return e.setState({showConfirmModal:!1})}},React.createElement(E["default"].BodyConfirm,null,this.state.confirmModalData),React.createElement(E["default"].FooterOk,{onOk:function(){return e.setState({showConfirmModal:!1})}})))}}]),t}(p["default"]),c.contextTypes={
router:React.PropTypes.object.isRequired},l=s))||l;t["default"]=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c,s,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(19),m=a(f),h=n(33),b=a(h),g=n(23),y=a(g),v=(0,y["default"])((u=s=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.name,a=e.children,o=r(e,["className","name","children"]);return t=(0,b["default"])(t,"icon","iconfont","icon-"+n),React.createElement("i",d({className:t},o),a)}}]),t}(m["default"]),s.defaultProps={name:""},c=u))||c;t["default"]=v},function(e,t,n){e.exports=n(2)(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(35);var r=n(37),o=a(r);t["default"]=o["default"]},function(e,t,n){var a=n(36);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".table-responsive{overflow:auto}.table-hlight{background:#f7fafa!important}.table-normal{background:#fff!important}table{min-width:100%;border-spacing:0;table-layout:fixed;border-collapse:collapse}table thead{background:#f7fafa}table thead th{padding:0 10px;line-height:48px;white-space:nowrap}table tbody{color:#708099}table tbody>tr:nth-child(odd){background:#fff}table tbody>tr:nth-child(even){background:#f7fafa}table tbody td{height:39px;line-height:39px;padding:0 10px;white-space:nowrap}table td,table th{border:1px solid #e7e7e7}table .table-btn+.table-btn{margin-left:15px}.rb-table__pagination{height:46px;padding:10px}.pagination{float:right}.pagination li{display:inline-block;border-top:1px solid #ccc;border-bottom:1px solid #ccc;background:#fff}.pagination li a,.pagination li a:hover,.pagination li a:link,.pagination li a:visited{line-height:25px;padding:0 16px;display:inline-block;color:#99c}.pagination li.active{background:#3189cc}.pagination li.active a{color:#fff}.pagination li+li{border-left:1px solid #e7e7e7}.pagination li:first-child{border-left:1px solid #ccc;border-top-left-radius:5px;border-bottom-left-radius:5px}.pagination li:last-child{border-right:1px solid #ccc;border-top-right-radius:5px;border-bottom-right-radius:5px}.rb-table__pagination__pagesize{display:none}.table__footer--text{font-size:18px;padding:20px 0;text-align:center}",""])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return localStorage.getItem("table-component-page-size")}function c(e){return localStorage.setItem("table-component-page-size",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RichTable=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(1),p=a(d),f=n(38),m=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.handlePageSelect=function(e,t){var n=e;Number.isInteger(n)||(n=t.eventKey),a.props.page!==n&&a.props.onPageSelect({page:n,pagesize:a.props.pagesize})},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.onPageSelect({page:this.props.page,pagesize:this.props.pagesize})}},{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalCount/this.props.pagesize),n=this.props.page>t?t:this.props.page,a=Object.assign({prev:!0,next:!0,first:!0,last:!0,maxButtons:5,selectPagesize:!1,pagesizeOptions:[10,20,50,100],hideOnePage:!0},this.props.paginationProps);return p["default"].createElement("div",{className:"rb-table-component"},p["default"].createElement(f.Table,{responsive:!0},this.props.children),t>(a.hideOnePage?1:0)?p["default"].createElement("div",{className:"rb-table__pagination"},p["default"].createElement(f.Pagination,s({},a,{items:t,activePage:n,onSelect:this.handlePageSelect})),a.selectPagesize?p["default"].createElement("div",{className:"rb-table__pagination__pagesize"},p["default"].createElement("span",null,"每页显示："),p["default"].createElement("select",{defaultValue:this.props.pagesize,onChange:function(t){c(t.target.value),e.props.onPageSelect({page:1,pagesize:t.target.value})}},a.pagesizeOptions.map(function(e){return p["default"].createElement("option",{key:e,value:e,label:e},e)}))):null):"",this.props.totalCount===!1||this.props.totalCount&&"0"!==this.props.totalCount?"":p["default"].createElement("div",{className:"table__footer--text"},"目前没有数据"))}}]),t}(p["default"].Component);m.defaultProps={onPageSelect:function(){},totalCount:!1,page:1,pagesize:l()||10},t["default"]=m,t.RichTable=m},function(e,t,n){e.exports=n(2)(803)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n(40),o=a(r),i=n(45),l=a(i),c=n(46),s=a(c);n(47),o["default"].BodyConfirm=l["default"],o["default"].FooterOk=s["default"],t["default"]=o["default"],t.Modal=o["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=n(38),d=n(41),p=a(d),f=n(42),m=a(f),h=n(43),b=a(h),g=n(44),y=a(g),v=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={position:{x:0,y:0}},a.isMove=!1,a.initialMove={x:0,y:0},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.show&&!e.show){var t=document.querySelector(".modal--pc");t.style.top=0,t.style.left=0}}},{key:"onMouseDown",value:function(e){if("static"===this.props.backdrop){var t=document.querySelector(".modal--pc");this.isMove=!0,this.initialMove={x:e.pageX-(parseInt(t.style.left)||0),y:e.pageY-(parseInt(t.style.top)||0)},document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.onMouseMove),document.body.addEventListener("mouseup",this.onMouseUp.bind(this))}}},{key:"onMouseMove",value:function(e){if(this.isMove&&"static"===this.props.backdrop){var t=document.querySelector(".modal--pc");e.pageY>0&&e.pageY<window.screen.height&&(t.style.top=e.pageY-this.initialMove.y+"px"),e.pageX>0&&e.pageX<window.screen.width&&(t.style.left=e.pageX-this.initialMove.x+"px")}}},{key:"onMouseUp",value:function(){"static"===this.props.backdrop&&(this.isMove=!1,document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",this.onMouseMove.bind(this)),document.body.removeEventListener("mouseup",this.onMouseUp.bind(this)))}},{key:"render",value:function(){var e="static"!==this.props.backdrop?{cursor:"default"}:{cursor:"move"};return s["default"].createElement(u.Modal,{dialogClassName:this.props.dialogClassName+" modal--pc",enforceFocus:!1,bsSize:this.props.bsSize,show:this.props.show,onHide:this.props.onHide,container:this.props.container,backdrop:this.props.backdrop,animation:!1},s["default"].createElement("div",{className:"modal-header",style:e,onMouseDown:this.onMouseDown.bind(this)},s["default"].createElement("span",null,this.props.title),s["default"].createElement("span",{onClick:this.props.onHide,className:"glyphicon glyphicon-remove-sign icon icon-close glyphicon-remove-sign--hover","aria-hidden":"true"})),this.props.children)}}]),t}(s["default"].Component);v.defaultProps={show:!1,dialogClassName:"",backdrop:"static"},v.Footer=m["default"],v.FooterYesNo=b["default"],v.FooterOk=y["default"],v.Body=u.Modal.Body,v.BodyConfirm=p["default"],t.Modal=v,t["default"]=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e={success:"add-sign",danger:"remove-sign",warning:"exclamation-sign"},t=e[this.props.type]||e.warning;return s["default"].createElement("div",{className:"modal-body"},s["default"].createElement("div",{className:"container-fluid"},s["default"].createElement("span",{className:"col-md-2 modal-body__icon text-right customicon "+t,"aria-hidden":"true"}),s["default"].createElement("span",{className:"col-md-9 modal-body__desc"},this.props.children)))}}]),t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"modal-footer"},this.props.children||this.props.buttons.map(function(e,t){return s["default"].createElement("button",{key:t,onClick:function(t){return e.onClick(e,t)},type:"button",className:"btn "+e.className},e.label)}))}}]),t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"modal-footer"},s["default"].createElement("button",{type:"submit",className:"btn btn-primary ",disabled:this.props.disabled,onClick:this.props.onYes},this.props.yesLabel||"确定"),s["default"].createElement("button",{type:"button",className:"btn btn-default btn-margin--left",onClick:this.props.onNo},this.props.noLabel||"取消"))}}]),t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"modal-footer"},s["default"].createElement("button",{type:"submit",className:"btn btn-primary modal__btn-confirm",onClick:this.props.onOk},"确定"))}}]),t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"modal-body"},s["default"].createElement("div",{className:"container-fluid"},s["default"].createElement("span",{className:"col-md-12 modal-body__desc"},this.props.children)))}}]),t}(s["default"].Component);t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),p=(c=l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return d["default"].createElement("div",{className:"modal-footer"},d["default"].createElement("button",{type:"submit",className:"btn btn-primary modal__btn-confirm",onClick:this.props.onOk},this.props.okLabel))}}]),t}(d["default"].Component),l.defaultProps={okLabel:"确定",onOk:function(){}},c);t["default"]=p},function(e,t,n){var a=n(48);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".modal-dialog .modal-header{color:#fff;padding:10px 15px;background:#1f7fd0}.modal-dialog .modal-header .glyphicon{float:right;top:-3px}.modal-dialog .modal-header .glyphicon:before{content:'\\D7';font-size:20px}.modal-dialog .modal-content{border-radius:0}.modal-dialog .modal-footer{border-top:none;text-align:center;padding:0 0 20px}",""])},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(33),m=a(f),h=n(23),b=a(h);n(50);var g=(0,b["default"])((s=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return React.createElement("div",{className:(0,m["default"])("block",this.props.className,{"block-sm":"sm"===this.props.bsSize}),style:this.props.style},React.createElement("div",{className:"block__title"},this.props.title),React.createElement("div",{className:"block__content"},this.props.children))}}]),t}(p["default"]),c.defaultProps={title:"",bsSize:"",style:{},className:""},l=s))||l;t["default"]=g},function(e,t,n){var a=n(51);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".block{padding:15px;background:#fff;border:1px solid #e7e7e7}.block__title{padding-top:10px;padding-bottom:20px}.block__title i{margin-right:7px}.block__content{color:#708099;font-size:12px;line-height:2rem}.block+.block{margin-top:10px}.block ol{margin:0;padding:0 15px}",""])},function(e,t,n){e.exports=n(2)(1056)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardStore=t.DashboardActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.DashboardActions=o["default"].createActions({getNotice:c,getAlerts:c,getTasks:c,approve:c});t.DashboardStore=o["default"].createStore({listenables:s,onGetNotice:function(){var e=this;(0,l["default"])("dashboard/notice").then(function(t){return e.trigger(t.data,"getDashboardNoticeSuccess")},function(t){return e.trigger(t.errmsg,"getDashboardNoticeFailed")})},onGetAlerts:function(){var e=this;(0,l["default"])("dashboard/alerts").then(function(t){return e.trigger(t.data,"getDashboardAlertSuccess")},function(t){return e.trigger(t.errmsg,"getDashboardAlertFailed")})},onGetTasks:function(e){var t=this;(0,l["default"])({url:"dashboard/toBeDone",method:"get",data:{pageNo:e}}).then(function(e){return t.trigger(e.data,"getDashboardTaskSuccess")},function(e){return t.trigger(e.errmsg,"getDashboardTaskFailed")})},onApprove:function(e,t,n){var a=this;t="1"===t,(0,l["default"])({url:t?"dashboard/denyOrder":"dashboard/approveOrder",method:"post",data:{orderCode:e,msg:n}}).then(function(e){return a.trigger(e.data,"approveOrderSuccess")},function(e){return a.trigger(e.errmsg,"approveOrderFailed")})}})},function(e,t,n){var a=n(55);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".main{height:calc(100% - 125px)}.main .main__sidebar,.main>.main__content{height:100%;display:inline-block}.main .main__sidebar .block+.block,.main>.main__content .block+.block{height:calc(100% - 176px)}.main>.main__content{width:75%}.main>.main__sidebar{width:25%;float:right;padding-left:10px}.main__quick-entry{list-style:none;margin:0;padding:10px 0 15px}.main__quick-entry li{display:inline-block}.main__quick-entry li+li{margin-left:10px}.main__quick-entry a,.main__quick-entry a:hover,.main__quick-entry a:link,.main__quick-entry a:visited{display:inline-block;width:126px;height:60px;line-height:60px;text-align:center;text-decoration:none;color:#666;cursor:pointer}.main .block-notice{height:166px}.main .block-notice .block__content{height:calc(100% - 49px);overflow:auto}.main .block-alert a{margin-left:5px}.main .block-alert .date{color:#999}.main .block-alert .block__content{height:calc(100% - 49px);overflow:auto}.main .block-to-be-done{padding:0}.main .block-to-be-done .block__title{padding:25px 15px 20px}.main .block-to-be-done .block__content{height:calc(100% - 64px);overflow:auto}.main .block-to-be-done .rb-table__pagination{background:#f7fafa}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"setting",chunkLoader:function(e){e(n(57),n(61),n(67),n(74),n(103),n(117))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(58),p=a(d),f=n(23),m=a(f),h=(0,m["default"])(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return React.createElement("div",{className:"main"},React.createElement(p["default"],this.props),this.props.children)}}]),t}(u["default"]))||l;t["default"]=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(32),p=a(d),f=n(15),m=n(33),h=a(m),b=n(23),g=a(b),y=n(24),v=a(y),E=n(25);n(59);var k=(0,g["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state=a.initialState(),i=n,o(a,i)}return i(t,e),c(t,[{key:"initialState",value:function(){var e=this.props.location.pathname,t=v["default"].filter(function(t){var n=t.url;return e.includes(n)});return{header:t.length>0?t[0]:{},list:[],closed:"yes"===localStorage.leftMenuClose}}},{key:"componentWillMount",value:function(){this.listen(E.FuncStore,this.menuListLoaded,"getMenuListSuccess"),E.FuncActions.getMenuList()}},{key:"menuListLoaded",value:function(e){var t=this,n=e.filter(function(e){return e.url.includes(t.state.header.url)&&e.parentid>0});this.setState({list:n})}},{key:"toggle",value:function(){localStorage.leftMenuClose=this.state.closed?"no":"yes",this.setState({closed:!this.state.closed})}},{key:"render",value:function(){var e=this.state.header,t=e.icon,n=e.label;return React.createElement("div",{className:(0,h["default"])("left-menu",{closed:this.state.closed})},React.createElement("div",{className:"left-menu__title"},React.createElement(p["default"],{name:t}),n),React.createElement("ul",null,this.state.list.map(function(e,t){return React.createElement("li",{key:t},React.createElement(f.Link,{to:e.url,activeClassName:"active"},e.menuname))})),React.createElement("div",{className:"toggle",onClick:this.toggle}))}}]),t}(u["default"]))||l;t["default"]=k},function(e,t,n){var a=n(60);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".left-menu{float:left;width:200px;color:#718196;background:#fff;margin-left:-10px;margin-right:10px;height:100%;position:relative}.left-menu__title{line-height:45px;background:#dde3ee;padding-left:10px}.left-menu__title i{margin-right:5px;font-size:20px}.left-menu ul a,.left-menu ul a:hover,.left-menu ul a:link,.left-menu ul a:visited{color:#718196;background:#f6faff;display:inline-block;line-height:38px;height:38px;width:100%;padding-left:35px;border-bottom:1px solid #dce3ee}.left-menu ul a:before,.left-menu ul a:hover:before,.left-menu ul a:link:before,.left-menu ul a:visited:before{content:'';display:inline-block;width:5px;height:5px;border-radius:20px;background:#718196;margin-right:8px;position:relative;top:-2px}.left-menu ul a.active,.left-menu ul a:hover.active,.left-menu ul a:link.active,.left-menu ul a:visited.active{background:#1f7fd0;color:#fff}.left-menu ul a.active:before,.left-menu ul a:hover.active:before,.left-menu ul a:link.active:before,.left-menu ul a:visited.active:before{background:#fff}.left-menu .toggle{width:8px;height:40px;position:absolute;top:50%;margin-left:200px;transform:translateY(-50%);background:#d6dceb;cursor:pointer}.left-menu .toggle:before{content:'';width:9px;height:9px;display:block;border-left:1px solid #fff;border-bottom:1px solid #fff;transform:rotate(45deg);margin-top:16px;margin-left:2px}.left-menu.closed{margin-left:-210px}.left-menu.closed .toggle:before{transform:rotate(225deg);margin-left:-3px}.left-menu.closed+.main__content{width:100%!important}.left-menu+.main__content{overflow:auto;height:100%;width:calc(100% - 200px)!important}.left-menu+.main__content .block__title{padding:15px 0 30px;font-size:18px;text-align:center;color:#3a4965}.left-menu+.main__content .block__content{height:calc(100% - 70px)}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"category",chunkLoader:function(e){e(n(62))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(33),p=a(d),f=n(49),m=a(f),h=n(23),b=a(h),g=n(9),y=a(g),v=n(63),E=n(64),k=n(52);n(65);var w=(0,
b["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={cates:[]},i=n,o(a,i)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){this.listen(E.GoodsStore,this.categoryLoaded,"getCategorySuccess"),this.listen(v.CategoryStore,function(){y["default"].info("发布成功"),E.GoodsActions.getCategory()},"saveCategorySuccess"),this.listen(v.CategoryStore,function(e){return y["default"].error(e)},"saveCategoryFailed"),E.GoodsActions.getCategory()}},{key:"categoryLoaded",value:function(e){this.setState({cates:e})}},{key:"onValidSubmit",value:function(e){v.CategoryActions.add(e)}},{key:"hasChildren",value:function(e){return e.hasOwnProperty("children")&&Array.isArray(e.children)&&e.children.length>0}},{key:"renderTree",value:function(e){var t=this;return React.createElement("ul",null,e.map(function(e,n){return React.createElement("li",{key:n,className:(0,p["default"])({show:!e.toggle})},React.createElement("div",{className:"tree__label",onClick:function(){return!t.hasChildren(e)||(e.toggle=!e.toggle,void t.forceUpdate())}},t.hasChildren(e)?React.createElement("span",{className:"tri"}):null,React.createElement("span",null,"（",e.code,"）",e.name)),t.hasChildren(e)>0?t.renderTree(e.children):null)}))}},{key:"render",value:function(){return React.createElement(m["default"],{className:"main__content setting-category",title:"商品分类"},React.createElement("div",{className:"category"},this.renderTree(this.state.cates)),React.createElement("div",{className:"category-right"},React.createElement(k.Form,{className:"form-horizontal",onValidSubmit:this.onValidSubmit},React.createElement(k.ValidatedInput,{type:"text",name:"code",label:"分类编码：",help:"(“01”代表第一级，“001”代表第二级）"}),React.createElement(k.ValidatedInput,{type:"text",name:"name",label:"分类名称："}),React.createElement("div",{className:"form-group submit-button"},React.createElement("label",null,"　　　　　"),React.createElement("button",{type:"submit",className:"btn btn-primary"},"提交")))))}}]),t}(u["default"]))||l;t["default"]=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryStore=t.CategoryActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.CategoryActions=o["default"].createActions({add:c});t.CategoryStore=o["default"].createStore({listenables:s,onAdd:function(e){var t=this,n=e.code,a=e.name;(0,l["default"])({url:"baseConfig/cate/addNode",method:"post",data:{code:n,name:a}}).then(function(e){return t.trigger(e.data,"saveCategorySuccess")},function(e){return t.trigger(e.errmsg,"saveCategoryFailed")})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsStore=t.GoodsActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.GoodsActions=o["default"].createActions({getCategory:c,getRemoteCategory:c,getItems:c});t.GoodsStore=o["default"].createStore({listenables:s,onGetCategory:function(){var e=this;(0,l["default"])("baseConfig/cate/getTree").then(function(t){return e.trigger(t.data,"getCategorySuccess")},function(t){return e.trigger(t.errmsg,"getCategoryFailed")})},onGetRemoteCategory:function(){var e=this;(0,l["default"])("baseConfig/item/remoteCate").then(function(t){return e.trigger(t.data,"getRemoteCategorySuccess")},function(t){return e.trigger(t.errmsg,"getRemoteCategoryFailed")})},onGetItems:function(e){var t=this,n=e.name,a=e.brand,r=e.cate,o=e.pageNo,i=e.pageSize,c=e.itemId1,s=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];(0,l["default"])({url:"baseConfig/item/localQuery",method:"get",data:{name:n,brand:a,cate:r,pageNo:o,pageSize:i,itemId1:c}}).then(function(e){return t.trigger(e.data,s?"PageGetGoodsItemsSuccess":"getGoodsItemsSuccess")},function(e){return t.trigger(e.errmsg,s?"pageGetGoodsItemsFailed":"getGoodsItemsFailed")})}})},function(e,t,n){var a=n(66);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".setting-category .category{float:left;width:40%;height:100%;overflow-y:auto;padding:50px 35px;background:#f7fafa;border:1px solid #e7e7e7}.setting-category .category ul{list-style-type:none;margin:0;padding:0}.setting-category .category div{display:inline-block;cursor:pointer;user-select:none}.setting-category .category .tri{display:inline-block;position:relative;top:3px;width:0;height:0;margin-left:-10px;border-width:5px;border-style:solid;border-color:#5a6c83 transparent transparent}.setting-category .category>ul>li{padding-left:10px}.setting-category .category>ul>li.show .tri{top:-2px;transform:rotate(180deg)}.setting-category .category>ul>li.show>ul{display:block}.setting-category .category>ul>li>ul{display:none;margin-left:30px}.setting-category .category-right{float:right;overflow:hidden;width:calc(60% - 20px);height:100%;overflow-y:auto;padding:50px 35px;background:#f7fafa;border:1px solid #e7e7e7}.setting-category .category-right .form-control{width:200px}.setting-category .category-right .submit-button{margin-top:40px}.setting-category .category-right .help-block{color:#ff7800}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"archive",chunkLoader:function(e){e(n(68))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(49),b=a(h),g=n(23),y=a(g),v=n(69),E=a(v),k=n(25),w=n(64),x=n(52);n(72);var R=(0,y["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],totalCount:0,pageSize:10,resourceIds:[]},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(w.GoodsStore,function(t){return e.setState(t)},"PageGetGoodsItemsSuccess"),this.listen(k.FuncStore,function(t){return e.setState({resourceIds:t})},"getResourcesSuccess"),k.FuncActions.getResources(this.context.location.pathname)}},{key:"onPageSelect",value:function(e){this.state.pageNo=e.page,this.state.pageSize=e.pagesize,this.loadPage()}},{key:"loadPage",value:function(){var e=this.state,t=e.name,n=e.brand,a=e.cate,r=e.pageSize,o=e.pageNo,i=e.itemId1;w.GoodsActions.getItems({name:t,brand:n,cate:a,pageSize:r,pageNo:o,itemId1:i},!0)}},{key:"onSearch",value:function(e){var t=e.brand,n=e.itemId1;return!(!this.state.name&&!this.state.cate&&t)&&void this.setState({brand:t,itemId1:n},this.loadPage)}},{key:"render",value:function(){var e=this;return React.createElement(b["default"],{className:"main__content setting-archive",title:"商品档案"},React.createElement(x.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(E["default"],{onlyCategory:!1,label:"商品名称：",onChange:function(t){return e.setState({name:t.itemName})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(x.ValidatedInput,{type:"text",name:"itemId1",label:"　　商品编码："})),React.createElement("div",{className:"col-xs-4"},React.createElement(x.ValidatedInput,{type:"text",name:"brand",label:"　　品牌："}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(E["default"],{label:"商品分类：",onChange:function(t){return e.setState({cate:t.id})}})),React.createElement("div",{className:"col-xs-8"},React.createElement("button",{className:"btn btn-primary"},"查询"),this.state.resourceIds.includes(k.MENU_IDS.IMPORT_ARCHIVE)?React.createElement("button",{type:"button",className:"btn btn-default",style:{marginLeft:95},onClick:function(){return console.log(e.context.router.push("/setting/import"))}},"从商城导入档案"):null))),React.createElement(m["default"],{totalCount:this.state.totalCount,pageSize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"商品分类"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"品牌"))),React.createElement("tbody",null,this.state.data.map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",{className:"text-center"},t+1),React.createElement("td",{className:"text-center"},e.itemCode),React.createElement("td",null,e.itemName),React.createElement("td",null,e.fenleiName),React.createElement("td",null,e.specName),React.createElement("td",null,e.branchName))}))))}}]),t}(p["default"]),c.contextTypes={location:React.PropTypes.object.isRequired,router:React.PropTypes.object.isRequired},l=s))||l;t["default"]=R},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,o){try{var i=t[r](o),l=i.value}catch(c){return void n(c)}return i.done?void e(l):Promise.resolve(l).then(function(e){return a("next",e)},function(e){return a("throw",e)})}return a("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(19),m=a(f),h=n(33),b=a(h),g=n(32),y=a(g),v=n(34),E=a(v),k=n(7),w=a(k),x=n(8),R=a(x),S=n(23),_=a(S),O=n(64);n(70);var N=11,C=12,P=(0,_["default"])((d=u=function(e){function t(){var e,n,a,r;i(this,t);for(var o=arguments.length,c=Array(o),s=0;s<o;s++)c[s]=arguments[s];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={isGoodLoading:!0,cate:{},cates:[],remoteCates:[],goods:[],totalCount:0,pageNo:1,pageSize:a.isMultipleSelect()?N:C},r=n,l(a,r)}return c(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(O.GoodsStore,function(t){return e.setState({cates:t})},"getCategorySuccess"),this.listen(O.GoodsStore,function(t){return e.setState({remoteCates:t})},"getRemoteCategorySuccess"),this.props.remote?O.GoodsActions.getRemoteCategory():O.GoodsActions.getCategory()}},{key:"getGoodsItems",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){var e,t,a=arguments.length<=0||void 0===arguments[0]?{pageSize:this.state.pageSize}:arguments[0];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,R["default"])({url:"/storage/localQuery",method:"get",data:a});case 2:e=n.sent,e.data&&(t=e.data,t.goods=t.data,delete t.data,t.isGoodLoading=!1,this.setState(t));case 4:case"end":return n.stop()}},n,this)}));return e}()},{key:"toggleModal",value:function(){return this.state.showModal?this.hiddenModal():this.showModal()}},{key:"showModal",value:function(){this.getGoodsItems(),this.setState({showModal:!this.state.showModal}),document.body.addEventListener("click",this.hiddenModalEvent)}},{key:"hiddenModalEvent",value:function(e){var t=w["default"].findDOMNode(this.refs.gselect),n=e.target;if(t===n)return!1;var a=t.querySelectorAll(n.tagName);if(a.length>0){var r=!0,o=!1,i=void 0;try{for(var l,c=a[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;if(s===n)return!1}}catch(u){o=!0,i=u}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw i}}}this.hiddenModal(),e.stopPropagation()}},{key:"hiddenModal",value:function(){this.setState({showModal:!1}),document.body.removeEventListener("click",this.hiddenModalEvent)}},{key:"onChange",value:function(){var e=void 0;this.onlyCategory()?e=this.state.cate:(e=this.state.goods.filter(function(e){return e.selected}),1===e.length&&(e=e[0])),this.hiddenModal(),Array.isArray(e)&&0==e.length||this.props.onChange(e)}},{key:"selectCate",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isGoodLoading:!0}),this.state.cate=e,!this.onlyCategory()){t.next=6;break}this.onChange(),t.next=8;break;case 6:return t.next=8,this.getGoodsItems({cate:e?e.id:null,pageSize:this.state.pageSize});case 8:this.forceUpdate();case 9:case"end":return t.stop()}},n,this)}));return e}()},{key:"onPageSelect",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.pageNo=e.page,this.setState({isGoodLoading:!0}),t.next=4,this.getGoodsItems({cate:this.state.cate.id,pageNo:this.state.pageNo,pageSize:this.state.pageSize});case 4:case"end":return t.stop()}},n,this)}));return e}()},{key:"onlyCategory",value:function(){return this.props.onlyCategory}},{key:"isMultipleSelect",value:function(){return this.props.multiple}},{key:"isAllGoodsSelect",value:function(){var e=this.state.goods.filter(function(e){return e.itemCode});return 0!==e.length&&e.every(function(e){return e.selected})}},{key:"selectAllGoods",value:function(){var e=this.state.goods.filter(function(e){return e.itemCode}),t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;i.selected=!i.selected}}catch(l){n=!0,a=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw a}}this.forceUpdate()}},{key:"selectGood",value:function(e,t){return!!e.itemCode&&(this.isMultipleSelect()||this.state.goods.filter(function(e){return e.itemCode}).forEach(function(e){return e.selected=!1}),e.selected="boolean"==typeof t?t:!e.selected,this.isMultipleSelect()||this.onChange(),void this.forceUpdate())}},{key:"renderLabel",value:function(){return this.props.label?React.createElement("label",{className:(0,b["default"])("control-label",this.props.labelClassName)},this.props.label):null}},{key:"renderModal",value:function(){var e=this.props.remote?this.state.remoteCates:this.state.cates;return React.createElement("div",{className:(0,b["default"])("modal-container",{mini:this.onlyCategory(),"large-width":!this.onlyCategory(),"large-height":this.isMultipleSelect(),pagi:this.state.totalCount>this.state.pageSize})},React.createElement("div",{className:"modal-container__category"},this.renderAllCategoryButton(),this.renderCatesTree(e)),this.renderGoodsTable())}},{key:"renderGoodsTable",value:function(){var e=this;if(this.onlyCategory()||!this.state.goods)return null;if(this.state.goods.length<this.state.pageSize){var t=Array.from({length:this.state.pageSize},function(){return{itemName:"",specName:"",fenleiName:""}});0!==this.state.goods.length&&t.splice.apply(t,[0,this.state.goods.length].concat(r(this.state.goods))),0===this.state.totalCount&&(this.state.totalCount=1),this.state.goods=t}return React.createElement("div",{className:(0,b["default"])("modal-container__goods",{lg:!this.isMultipleSelect()})},this.renderSubmitButton(),React.createElement("div",{className:(0,b["default"])("goods-content-inner",{vhide:this.state.isGoodLoading})},React.createElement(E["default"],{totalCount:this.state.totalCount,pagesize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,this.isMultipleSelect()?React.createElement("th",{className:"check-box"},React.createElement("input",{type:"checkbox",checked:this.isAllGoodsSelect(),onClick:this.selectAllGoods})):null,React.createElement("th",{style:{width:"70%"}},"商品名称"),React.createElement("th",null,"规格型号"))),React.createElement("tbody",null,this.state.goods.map(function(t,n){return React.createElement("tr",{key:n,className:(0,b["default"])({pointer:!e.isMultipleSelect()}),onClick:function(){return e.isMultipleSelect()?null:e.selectGood(t)}},e.isMultipleSelect()?React.createElement("td",{className:"check-box"},React.createElement("input",{type:"checkbox",key:n+t.itemName+t.specName,"data-aria":"abc",checked:t.selected,onChange:function(n){return e.selectGood(t,n.target.checked)}})):null,React.createElement("td",null,t.itemName),React.createElement("td",null,t.specName))})))),React.createElement("div",{className:(0,b["default"])("goods-content-inner",{vhide:!this.state.isGoodLoading}),style:{clear:"both"}},"正在加载..."))}},{key:"renderSubmitButton",value:function(){return this.isMultipleSelect()?React.createElement("button",{className:"btn btn-primary pull-right",type:"button",onClick:this.onChange},"确认选择"):null}},{key:"renderAllCategoryButton",value:function(){var e=this;return this.onlyCategory()?null:React.createElement("div",{className:(0,b["default"])("category-all",{selected:!this.state.cate.id}),onClick:function(){return e.selectCate()}},"全部分类")}},{key:"hasChildren",value:function(e){return e.hasOwnProperty("children")&&Array.isArray(e.children)&&e.children.length>0}},{key:"renderCatesTree",value:function(e){var t=this;return React.createElement("ul",null,e.map(function(e,n){return React.createElement("li",{key:n,className:(0,b["default"])({show:!e.toggle})},React.createElement("span",{className:"tree__label",style:{display:"inline-block",height:"100%"}},t.hasChildren(e)?React.createElement("span",{className:"tri",style:{display:"inline-block",height:"100%"},onClick:function(){return!t.hasChildren(e)||(e.toggle=!e.toggle,void t.forceUpdate())}}):null,React.createElement("span",{className:(0,b["default"])({selected:t.state.cate===e}),style:{display:"inline-block",height:"100%"},onClick:function(){return t.selectCate(e)}},e.name)),t.hasChildren(e)>0?t.renderCatesTree(e.children):null)}))}},{key:"render",value:function(){var e=void 0;return e=this.onlyCategory()?this.state.cate.name:this.props.value.itemName?this.props.value.itemName:this.state.goods?this.state.goods.filter(function(e){return e.selected}).map(function(e){return e.itemName}).join():"",React.createElement("div",{ref:"gselect",className:(0,b["default"])("goods-select form-group",{show:this.state.showModal})},this.renderLabel(),React.createElement("div",{className:(0,b["default"])("goods-select__container",this.props.wrapperClassName)},React.createElement("div",{className:"goods-select__input",title:e},React.createElement("input",{type:"text",className:"form-control",onFocus:this.toggleModal,disabled:!0,placeholder:this.onlyCategory()?"请选择…":"",value:e||""}),React.createElement(y["default"],{onClick:this.toggleModal,name:"fenleisousuo"})),this.state.showModal?this.renderModal():null))}}]),t}(m["default"]),u.defaultProps={value:{},remote:!1,onlyCategory:!0,multiple:!1,onChange:function(e){return console.log("defaultProps",e)}},s=d))||s;t["default"]=P},function(e,t,n){var a=n(71);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".channel-select,.goods-select{height:39px}.channel-select:after,.channel-select:before,.goods-select:after,.goods-select:before{display:none!important}.channel-select__container,.goods-select__container{position:relative;display:inline-block}.channel-select__input,.goods-select__input{display:inline-block}.channel-select input.form-control,.goods-select input.form-control{width:200px;outline:none;padding-right:32px}.channel-select input.form-control:focus,.goods-select input.form-control:focus{border-color:#ebf2f5;box-shadow:none}.channel-select input.form-control:disabled,.goods-select input.form-control:disabled{background:transparent;background-color:#eee;border-right:1px}.channel-select .selected,.goods-select .selected{display:inline-block;background:#e8ebeb}.channel-select i.icon,.goods-select i.icon{width:34px;height:34px;cursor:pointer;position:absolute;right:0;text-align:center;border-style:solid;display:inline-block;border-color:#ebf2f5;border-width:1px 1px 1px 0}.channel-select.has-error i.icon,.goods-select.has-error i.icon{border-color:#a94442}.channel-select .modal-container,.goods-select .modal-container{left:0;margin-top:0;display:none;padding:10px;position:absolute;background:#ebf2f5;border:1px solid #e7e7e7;height:541px;z-index:100000}.channel-select .modal-container.mini .modal-container__category,.goods-select .modal-container.mini .modal-container__category{width:300px}.channel-select .modal-container.mini:before,.goods-select .modal-container.mini:before{content:'';width:32px;border-top:1px solid #ebf2f5;display:block;position:absolute;top:0;left:0;margin-top:-1px}.channel-select .modal-container.large-width,.goods-select .modal-container.large-width{min-width:760px}.channel-select .modal-container.large-height,.goods-select .modal-container.large-height{height:560px}.channel-select .modal-container.pagi,.goods-select .modal-container.pagi{padding-bottom:44px;height:575px}.channel-select .modal-container.pagi.large-height,.goods-select .modal-container.pagi.large-height{height:595px}.channel-select .modal-container__category,.channel-select .modal-container__channel,.goods-select .modal-container__category,.goods-select .modal-container__channel{float:left;height:100%;width:180px;overflow:auto;background:#f7fafa;padding:5px 15px;border:1px solid #e7e7e7}.channel-select .modal-container__category .tri,.channel-select .modal-container__channel .tri,.goods-select .modal-container__category .tri,.goods-select .modal-container__channel .tri{display:inline-block;position:relative;top:3px;width:0;height:0;margin-left:-10px;margin-right:10px;border-width:5px;border-style:solid;border-color:#5a6c83 transparent transparent}.channel-select .modal-container__category ul,.channel-select .modal-container__channel ul,.goods-select .modal-container__category ul,.goods-select .modal-container__channel ul{list-style-type:none;margin:0;padding:0;cursor:pointer}.channel-select .modal-container__category .category-all,.channel-select .modal-container__category .tree__label>span:last-child,.channel-select .modal-container__channel .category-all,.channel-select .modal-container__channel .tree__label>span:last-child,.goods-select .modal-container__category .category-all,.goods-select .modal-container__category .tree__label>span:last-child,.goods-select .modal-container__channel .category-all,.goods-select .modal-container__channel .tree__label>span:last-child{cursor:pointer;padding:0 6px}.channel-select .modal-container__category>ul>li,.channel-select .modal-container__channel>ul>li,.goods-select .modal-container__category>ul>li,.goods-select .modal-container__channel>ul>li{padding-left:10px}.channel-select .modal-container__category>ul>li.show .tri,.channel-select .modal-container__channel>ul>li.show .tri,.goods-select .modal-container__category>ul>li.show .tri,.goods-select .modal-container__channel>ul>li.show .tri{top:-2px;transform:rotate(180deg)}.channel-select .modal-container__category>ul>li.show>ul,.channel-select .modal-container__channel>ul>li.show>ul,.goods-select .modal-container__category>ul>li.show>ul,.goods-select .modal-container__channel>ul>li.show>ul{display:block}.channel-select .modal-container__category>ul>li>ul,.channel-select .modal-container__channel>ul>li>ul,.goods-select .modal-container__category>ul>li>ul,.goods-select .modal-container__channel>ul>li>ul{display:none;margin-left:20px}.channel-select .modal-container__goods,.goods-select .modal-container__goods{float:right;overflow:hidden;padding-left:10px;height:100%;width:calc(100% - 180px)}.channel-select .modal-container__goods .goods-content-inner,.goods-select .modal-container__goods .goods-content-inner{height:100%}.channel-select .modal-container__goods .goods-content-inner.vhide,.goods-select .modal-container__goods .goods-content-inner.vhide{display:none}.channel-select .modal-container__goods>button,.goods-select .modal-container__goods>button{float:right;margin-bottom:16px}.channel-select .modal-container__goods>button+div,.goods-select .modal-container__goods>button+div{clear:both}.channel-select .modal-container__goods .rb-table-component,.goods-select .modal-container__goods .rb-table-component{height:calc(100% - 48px);overflow:auto}.channel-select .modal-container__goods .rb-table-component table,.goods-select .modal-container__goods .rb-table-component table{width:100%;min-width:auto}.channel-select .modal-container__goods .rb-table-component table td,.goods-select .modal-container__goods .rb-table-component table td{white-space:normal}.channel-select .modal-container__goods.lg .rb-table-component,.goods-select .modal-container__goods.lg .rb-table-component{height:100%}.channel-select .modal-container__goods .pointer,.goods-select .modal-container__goods .pointer{cursor:pointer}.channel-select .modal-container__goods .rb-table__pagination,.goods-select .modal-container__goods .rb-table__pagination{position:absolute;right:10px;bottom:0;background:transparent}.channel-select .modal-container__goods .check-box,.goods-select .modal-container__goods .check-box{width:48px;text-align:center}.channel-select.show .modal-container,.goods-select.show .modal-container{display:block}",""])},function(e,t,n){var a=n(73);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".setting-archive form{display:inline-block}.setting-archive .form-control{width:200px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"auth",chunkLoader:function(e){e(n(75))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c,s=(n(76),n(84)),u=a(s),d=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){r=!0,o=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(19),m=a(f),h=n(32),b=a(h),g=n(9),y=a(g),v=n(49),E=a(v),k=n(23),w=a(k),x=n(100),R=n(52);n(101);var S=(0,w["default"])(c=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={users:[],user:{}},r=n,i(a,r)}return l(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(x.UserStore,function(t){return e.setState({users:t})},"getUsersSuccess"),this.listen(x.UserStore,function(t){return e.setState({trees:t})},"getUserMenuListSuccess"),this.listen(x.UserStore,function(){y["default"].info("更新成功"),x.UserActions.getUsers()},"updateUserAuthSuccess"),this.listen(x.UserStore,function(e){return y["default"].error(e)},"updateUserAuthFailed"),x.UserActions.getUsers(),x.UserActions.getUserMenu()}},{key:"onValidSubmit",value:function(e){var t=e.username,n=this.state.users,a=n.filter(function(e){return e.username===t||e.usercode===t||e.usercode===t+"@360.cn"});if(!(a.length>0))return y["default"].error("用户不存在请重新输入");a=a[0];var r=a.userMenu.map(function(e){return e.id+",0"});for(var o in a.userResource)Array.isArray(a.userResource[o])&&(r=r.concat(a.userResource[o].map(function(e){return e.id+",1"})));a.auth=r,this.setState({user:a})}},{key:"getTreeDataByLevel",value:function(e){return this.state.trees.filter(function(t){var n=t.superid;return n===e})}},{key:"concatParent",value:function(e){var t=this,n=e,a=!0,o=!1,i=void 0;try{for(var l,c=function(){for(var e=l.value,a=e.split(","),r=d(a,2),o=r[0],i=r[1],c=t.state.trees.filter(function(e){return e.id==o&&e.elementType==i})[0];c.superid;)c=t.state.trees.filter(function(e){return e.id==c.superid&&0==e.elementType}),c.length&&(c=c[0],n.push(c.id+","+c.elementType))},s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)c()}catch(u){o=!0,i=u}finally{try{!a&&s["return"]&&s["return"]()}finally{if(o)throw i}}return[].concat(r(new Set(n)))}},{key:"renderAuthTree",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{id:0,elementType:0}:arguments[0],n=this.getTreeDataByLevel(t.id);return n.map(function(t){return React.createElement(u["default"].TreeNode,{key:t.id+","+t.elementType,title:t.name},t.elementType||!e.getTreeDataByLevel(t.id)?null:e.renderAuthTree(t))})}},{key:"renderAuthTrees",value:function(){var e=this;return React.createElement(u["default"],{multiple:!0,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,autoExpandParent:!0,onCheck:function(t){e.state.user.auth=e.concatParent(t),x.UserActions.updateUserAuth(e.state.user.id,e.state.user.auth),e.forceUpdate()},checkedKeys:this.state.user.auth},this.renderAuthTree())}},{key:"render",value:function(){return React.createElement(E["default"],{className:"main__content setting-auth",title:"权限设置"},React.createElement(R.Form,{className:"form-horizontal",onValidSubmit:this.onValidSubmit},React.createElement(R.ValidatedInput,{type:"text",name:"username",validate:"required",label:React.createElement(b["default"],{name:"sousuo"
React.createElement(S.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-6"},React.createElement(R["default"],{onlyCategory:!1,label:"商品名称：",onChange:function(t){return e.setState({name:t.itemName})}})),React.createElement("div",{className:"col-xs-6"},React.createElement(R["default"],{label:"商品分类：",onChange:function(t){return e.setState({cate:t.id})}}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(S.ValidatedInput,{type:"text",name:"brand",label:"品牌："})),React.createElement("div",{className:"col-xs-4"},React.createElement(S.ValidatedInput,{type:"text",name:"itemId1",label:"商品编码："})),React.createElement("div",{className:"col-xs-4"},React.createElement("button",{className:"btn btn-primary"},"查询"),React.createElement(d["default"],{name:"file",showUploadList:!1,action:"/market/priceControl/import",onChange:this.upload,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},React.createElement("button",{style:{marginLeft:20},type:"button",className:"btn btn-default",disabled:this.state.uploading},"导入"))))),React.createElement(b["default"],{totalCount:this.state.totalCount,pagesize:this.state.pagesize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"最低价控制"),React.createElement("th",null,"最高价控制"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",null,t.itemId),React.createElement("td",null,t.itemName),React.createElement("td",null,t.specName),React.createElement("td",null,e.canEdit()?React.createElement("input",{type:"text",className:"form-control",value:t.min||"",onChange:function(n){t.min=n.target.value,e.forceUpdate()},onBlur:function(){return e.updatePriceControl(t)}}):t.min),React.createElement("td",null,e.canEdit()?React.createElement("input",{type:"text",className:"form-control",value:t.max||"",onChange:function(n){t.max=n.target.value,e.forceUpdate()},onBlur:function(){return e.updatePriceControl(t)}}):t.max))}))))}}]),t}(m["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=N},function(e,t,n){var a=n(284);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-salesprice form{display:inline-block}.market-salesprice .form-control{width:200px}.market-salesprice .form-group .control-label,.market-salesprice table .form-control{width:100px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"salesorder",chunkLoader:function(e){e(n(286),n(287),n(291),n(295))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(23),p=a(d),f=(0,p["default"])(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return this.props.children}}]),t}(u["default"]))||l;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"create",chunkLoader:function(e){e(n(288))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c,s,u,d=(n(204),n(196)),p=a(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n(19),h=a(m),b=n(122),g=a(b),y=n(3),v=a(y),E=n(9),k=a(E),w=n(33),x=a(w),R=n(49),S=a(R),_=n(23),O=a(_),N=n(105),C=n(38),P=n(69),T=a(P),M=n(52),j=n(219),D=n(231),A=a(D),I=n(206),z=n(220);n(277),n(289);var L=(0,O["default"])((u=s=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={user:v["default"].getUserContext().username,date:(0,g["default"])(new Date).format("YYYY-MM-DD HH:mm"),code:"",data:[],contact:{},salesman:{},customer:{id:"",level:"",saleswayname:""},customers:[],contacts:[],salesmen:[],exnotes:""},r=n,i(a,r)}return l(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(j.SalesOrderStore,function(t){return e.setState({code:t})},"getNewSalesOrderCodeSuccess"),this.listen(j.SalesOrderStore,function(){k["default"].info("创建订单成功"),e.context.router.push("/market/salesorder/view/"+e.state.code)},"addSalesOrderSuccess"),this.listen(j.SalesOrderStore,function(e){return k["default"].error(e)},"getNewSalesOrderCodeFailed addSalesOrderFailed getSalesOrderDetailFailed"),this.listen(j.SalesOrderStore,this.forkOrder,"getSalesOrderDetailSuccess"),this.listen(I.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(I.CustomerStore,function(t){return e.getContacts(t)},"getContactsSuccess"),this.listen(I.CustomerStore,function(e){return k["default"].error(e)},"getAllCustomerFailed getContactsFailed"),this.listen(z.SalesStore,function(e){return k["default"].error(e)},"getSalesMenFailed"),this.listen(z.SalesStore,function(t){return e.setState({salesmen:t})},"getSalesMenSuccess"),j.SalesOrderActions.getNewSalesOrderCode(),I.CustomerActions.getAllCustomers(),z.SalesActions.getSalesMen();var t=this.props.location.query.id;t?j.SalesOrderActions.getSalesOrder(t):this.addData()}},{key:"forkOrder",value:function(e){var t={id:e.consumerId,level:e.consumerLevel,saleswayname:e.salesway},n={id:e.connectionId},a={id:e.salesmanId,sellerName:e.sellerName};I.CustomerActions.getContacts(t.id),this.setState({customer:t,contact:n,salesman:a,notes:e.notes,exnotes:e.exnotes,data:e.details.map(function(e){var t=e.itemId,n=e.itemName,a=e.specName,r=e.qty,o=e.price,i=e.trdOrderCode,l=e.notes,c=e.zongkucun,s=e.keyongkucun;return{itemCode:t,itemName:n,specName:a,qty:r,price:o,zongkucun:c,keyongkucun:s,trdNo:i,notes:l}})})}},{key:"getContacts",value:function(e){e.forEach(function(e){var t=e.provinceName,n=e.cityName,a=e.districtName,r=e.address,o=e.name,i=e.phone;e.label=t+" "+n+" "+a+" "+r+" "+o+" "+i});var t={};this.setState({contacts:e,contact:t,contactError:!1})}},{key:"addSalesOrder",value:function(e){var t=e.notes;if(this.state.customerError=!this.state.customer.id,this.state.contactError=!this.state.contact.id,this.state.salesmanError=!this.state.salesman.sellerName,this.state.exnotesError=!this.state.exnotes,this.state.dataError=0===this.state.data.map(function(e){return e.itemCode}).filter(function(e){return e}).length,this.state.customerError||this.state.contactError||this.state.salesmanError||this.state.dataError||this.state.exnotesError)return this.forceUpdate();var n={orderCode:this.state.code,consumerId:this.state.customer.id,saleswayId:this.state.customer.saleswayid,connectionId:this.state.contact.id,salesmanId:this.state.salesman.id,notes:t,exnotes:this.state.exnotes,store:1,createDate:this.state.date,list:this.state.data.map(function(e,t){var n=e.itemCode,a=e.qty,r=e.price,o=e.trdNo,i=e.notes;return{no:t+1,itemCode:n,qty:a,price:r,trdNo:o,notes:i}})};j.SalesOrderActions.add(n)}},{key:"addData",value:function(){var e=this.state.data;return e.push({itemCode:null,qty:null,price:null,trdNo:null,notes:null}),this.setState({data:e})}},{key:"delData",value:function(e){var t=this.state.data;return t.splice(e,1),this.setState({data:t})}},{key:"selectCustomer",value:function(e){this.state.customer=e,this.state.customerError=!1,I.CustomerActions.getContacts(e.id)}},{key:"calcPrice",value:function(e){var t=e.qty,n=e.price,a=0,r=function(e){return!Number.isNaN(Number(e))};return r(t)&&r(n)&&(a=t*n),this.currency(a)}},{key:"sum",value:function(e){var t=this.state.data,n=t.map(e).map(function(e){return Number(e)}).filter(function(e){return!Number.isNaN(e)});return n.reduce(function(e,t){return e+t},0)||0}},{key:"currency",value:function(e){return e.toLocaleString("zh-Hans-CN",{style:"currency",currency:"CNY"})}},{key:"selectGoods",value:function(e,t){var n=this.state.data;return e=Array.isArray(e)?e:[e],n.splice.apply(n,[t,1].concat(r(e))),this.setState({data:n,dataError:!1})}},{key:"renderPricePlaceholder",value:function(e){var t=e.priceMin,n=e.priceMax;return t&&n?t+"-"+n:t?">"+t:n?"<"+n:void 0}},{key:"render",value:function(){var e=this,t=this.state.contacts.map(function(e){return React.createElement(N.Option,{key:e.id,value:e.id,label:e.label,contact:e},e.label)});return 1===t.length&&(t=t[0]),React.createElement(S["default"],{className:"main__content market-salesorder-create",title:"销售订单"},React.createElement(M.Form,{className:"form-horizontal",onValidSubmit:this.addSalesOrder},React.createElement("div",{style:{overflow:"hidden"}},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(C.FormControls.Static,{label:"　　编号：",value:this.state.code}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"　　客户：",placeholder:"请选择客户",optionFilterProp:"label",isError:function(){return e.state.customerError},value:this.state.customer.id,onSelect:function(t,n){return e.selectCustomer(n.props.customer)}},this.state.customers.map(function(e){return React.createElement(N.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(M.ValidatedInput,{type:"text",name:"level",disabled:!0,label:"客户级别：",value:this.state.customer.level})),React.createElement("div",{className:"col-xs-4 salesway-input"},React.createElement(M.ValidatedInput,{type:"text",name:"channel",disabled:!0,label:"　　渠道：",value:this.state.customer.saleswayname}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-8"},React.createElement(N.Select.Modal,{label:"收货信息：",optionFilterProp:"label",labelClassName:"width-60",wrapperClassName:"contact-address-select-wrapper",value:this.state.contact.id,isError:function(){return e.state.contactError},onSelect:function(t,n){return e.setState({contact:n.props.contact,contactError:!1})}},t)),React.createElement("div",{className:"col-xs-4"},this.state.customer.id?React.createElement("span",{className:"new-contact-button",onClick:function(t){t.preventDefault(),e.setState({showCustomerAddressModal:!0})}},"新建收货信息"):null)),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"　销售员：",optionFilterProp:"label",value:this.state.salesman.sellerName,isError:function(){return e.state.salesmanError},onSelect:function(t,n){return e.setState({salesman:n.props.salesman,salesmanError:!1})}},this.state.salesmen.map(function(e){return React.createElement(N.Option,{key:e.sellerName,value:e.sellerName,label:e.sellerName,salesman:e},e.sellerName)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(M.ValidatedInput,{type:"text",name:"notes",label:"　　备注：",wrapperClassName:"note-input-wrapper"})),React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"物流备注：",placeholder:"请选择物流备注",optionFilterProp:"label",isError:function(){return e.state.exnotesError},value:this.state.exnotes,onSelect:function(t){e.setState({exnotes:t,exnotesError:!1})}},React.createElement(N.Option,{key:"0",value:"普通发货",label:"普通发货"},"普通发货"),React.createElement(N.Option,{key:"1",value:"特殊发货",label:"特殊发货"},"特殊发货"),React.createElement(N.Option,{key:"2",value:"自提",label:"自提"},"自提"))))),React.createElement("div",null,React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",{style:{width:50}},"操作"),React.createElement("th",{style:{width:150}},"商品名称"),React.createElement("th",{style:{width:125}},"商品编码"),React.createElement("th",null,"规格型号"),React.createElement("th",{style:{width:100}},"数量"),React.createElement("th",{style:{width:50}},"单位"),React.createElement("th",{style:{width:200}},"单价"),React.createElement("th",null,"金额"),React.createElement("th",{style:{width:150}},"第三方订单号"),React.createElement("th",null,"可用库存"),React.createElement("th",null,"总库存"),React.createElement("th",{style:{minWidth:150}},"备注"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},React.createElement("span",{className:"table-btn",onClick:function(){return e.delData(n)}},"删除")),React.createElement("td",null,React.createElement(T["default"],{multiple:!0,onlyCategory:!1,value:t,onChange:function(t){t.qty="",e.selectGoods(t,n)}})),React.createElement("td",{className:"item-code"},t.itemCode),React.createElement("td",{style:{whiteSpace:"inherit"}},t.specName),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:t.qty,onChange:function(n){t.qty=n.target.value,e.forceUpdate()}})),React.createElement("td",{className:"text-center"},t.unit),React.createElement("td",null,React.createElement("input",{type:"text",placeholder:e.renderPricePlaceholder(t),className:(0,x["default"])("form-control",{error:t.error}),value:t.price||"",onChange:function(n){t.price=n.target.value,e.forceUpdate()},onBlur:function(){var n=t.priceMin&&t.price<t.priceMin,a=t.priceMax&&t.price>t.priceMax;t.error=n||a,e.forceUpdate()}})),React.createElement("td",{className:"text-right"},e.calcPrice(t)),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:t.trdNo,onChange:function(n){t.trdNo=n.target.value,e.forceUpdate()}})),React.createElement("td",{className:"text-right"},t.keyongkucun),React.createElement("td",{className:"text-right"},t.zongkucun),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:t.notes,onChange:function(n){t.notes=n.target.value,e.forceUpdate()}})))}),React.createElement("tr",{key:this.state.data.length+1,className:"table-normal"},React.createElement("td",{colSpan:13},React.createElement("span",{className:"table-btn",onClick:function(t){t.preventDefault(),e.addData()}},React.createElement(p["default"],{type:"plus"})," 新增一行"))),React.createElement("tr",{key:this.state.data.length+2,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null,this.sum(function(e){return e.qty/1})),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.currency(this.sum(function(e){return e.qty*e.price}))),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)),React.createElement("tr",{key:this.state.data.length+3},React.createElement("td",{colSpan:13,className:"sales-order-table-footer"},"制单人："+this.state.user+"　　　　　制单日期："+this.state.date))))),React.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginTop:10}},"提交"),this.state.dataError?React.createElement("span",{className:"order-data-error"},"请加入商品"):null),React.createElement(A["default"],{title:"客户联系人管理",show:this.state.showCustomerAddressModal,onHide:function(){e.setState({showCustomerAddressModal:!1}),e.selectCustomer(e.state.customer)},model:this.state.customer}))}}]),t}(h["default"]),s.contextTypes={router:React.PropTypes.object.isRequired},c=u))||c;t["default"]=L},function(e,t,n){var a=n(290);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-salesorder-create .form-control{width:200px}.market-salesorder-create .form-control.error{border-color:#a94442}.market-salesorder-create .form-control-static{display:inline-block}.market-salesorder-create .salesway-input .form-group{margin-right:0}.market-salesorder-create .width-60{width:60px}.market-salesorder-create .contact-address-select-wrapper{width:calc(100% - 70px)}.market-salesorder-create .contact-address-select-wrapper .select-modal{width:calc(100% - 15px)!important}.market-salesorder-create .note-input-wrapper{width:calc(100% - 85px);display:inline-block}.market-salesorder-create .new-contact-button{display:inline-block;margin-top:10px;margin-left:-15px;cursor:pointer}.market-salesorder-create .goods-select{margin:0}.market-salesorder-create .goods-select input.form-control{width:auto;background:#fff}.market-salesorder-create .goods-select i.icon{line-height:36px;top:1px;background:#fff}.market-salesorder-create .goods-select .modal-container{left:0;margin-top:0}.market-salesorder-create .table .form-control{width:auto}.market-salesorder-create .table td{padding-top:4px}.market-salesorder-create .table td.item-code{white-space:inherit;word-break:break-all}.market-salesorder-create .order-data-error{position:relative;margin-left:20px;top:7px;color:#a94442}.market-salesorder-create .sales-order-table-footer{background:#fff;text-align:right;border-left:none;border-right:none;border-bottom:none;font-size:14px}",""])},function(e,t,n){
"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"view/:orderCode",chunkLoader:function(e){e(n(292))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(9),m=a(f),h=n(39),b=a(h),g=n(49),y=a(g),v=n(23),E=a(v),k=n(38),w=n(52),x=n(219),R=n(53);n(35),n(293);var S=(0,E["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={details:[]},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(x.SalesOrderStore,function(){return m["default"].info("取消订单成功")},"cancelSalesOrderSuccess"),this.listen(x.SalesOrderStore,function(t){return e.setState(t)},"getSalesOrderDetailSuccess"),this.listen(x.SalesOrderStore,function(e){return m["default"].error(e)},"getSalesOrderDetailFailed cancelSalesOrderFailed"),this.listen(x.SalesOrderStore,function(){return e.getSalesOrder()},"cancelSalesOrderSuccess"),this.listen(R.DashboardStore,function(t){return e.setState({showAuditModal:!1}),e.getSalesOrder(),""!=t?e.setState({showConfirmModal:!0,confirmModalData:t}):void m["default"].info("审核成功")},"approveOrderSuccess"),this.listen(R.DashboardStore,function(e){return m["default"].error(e)},"approveOrderFailed"),this.getSalesOrder()}},{key:"getSalesOrder",value:function(){x.SalesOrderActions.getSalesOrder(this.props.params.orderCode)}},{key:"forkOrder",value:function(){this.context.router.push({pathname:"/market/salesorder/create",query:{id:this.props.params.orderCode}})}},{key:"applyShip",value:function(){this.context.router.push({pathname:"/market/shiporder/create",query:{id:this.props.params.orderCode}})}},{key:"onAudit",value:function(e){var t=e.pass,n=e.note;R.DashboardActions.approve(this.state.orderCode,t,n)}},{key:"render",value:function(){var e=this;return React.createElement(y["default"],{className:"main__content salesorder-view",title:"销售订单"},React.createElement("form",{className:"form-horizontal"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　　编号：",value:this.state.orderCode})),React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　　客户：",value:this.state.consumerName})),React.createElement("div",{className:"col-xs-6"},React.createElement(k.FormControls.Static,{label:"账期：",value:this.state.deadline+"天"}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　收货人：",value:this.state.receiver})),React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"联系电话：",value:this.state.phone})),React.createElement("div",{className:"col-xs-6"},React.createElement(k.FormControls.Static,{label:"收货信息：",value:this.state.address}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"发货仓库：",value:this.state.storehouse})),React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　销售员：",value:this.state.sellerName})),React.createElement("div",{className:"col-xs-6"},React.createElement(k.FormControls.Static,{label:"销售渠道：",value:this.state.salesway}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　　备注：",value:this.state.notes})),React.createElement("div",{className:"col-xs-3"},React.createElement(k.FormControls.Static,{label:"　　物流备注：",value:this.state.exnotes})))),React.createElement("div",{className:"table-responsive"},React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"数量"),React.createElement("th",null,"单位"),React.createElement("th",null,"单价"),React.createElement("th",null,"金额"),React.createElement("th",null,"第三方订单号"),React.createElement("th",null,"已申请发货数量"),React.createElement("th",null,"实际已发数量"),React.createElement("th",null,"累计签收数量"),React.createElement("th",null,"累计拒收数量"),React.createElement("th",null,"可用库存"),React.createElement("th",null,"总库存"),React.createElement("th",null,"账期"),React.createElement("th",null,"备注"))),React.createElement("tbody",null,this.state.details.map(function(t,n){return React.createElement("tr",{key:n+1},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",null,t.itemId),React.createElement("td",null,t.itemName),React.createElement("td",null,t.specName),React.createElement("td",{className:"text-right"},t.qty),React.createElement("td",null,t.unit),React.createElement("td",{className:"text-right"},e.currency(t.price)),React.createElement("td",{className:"text-right"},e.currency(t.totalPrice)),React.createElement("td",null,t.trdOrderCode),React.createElement("td",{className:"text-right"},t.alreadyApplyCount),React.createElement("td",{className:"text-right"},t.sendCount),React.createElement("td",{className:"text-right"},t.receivedCount),React.createElement("td",{className:"text-right"},t.rejectedCount),React.createElement("td",{className:"text-right"},t.keyongkucun),React.createElement("td",{className:"text-right"},t.zongkucun),React.createElement("td",null,t.deadline),React.createElement("td",null,t.notes))}),React.createElement("tr",{key:this.state.details.length},React.createElement("td",{colSpan:17,className:"sales-order-table-footer"},"制单人："+this.state.creatorName+"　　　　　制单日期："+this.state.startTime))))),React.createElement("div",{className:"button-group"},React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.forkOrder},"复制订单"),this.state.canProve?React.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.setState({showAuditModal:!0})}},"审核"):null,this.state.canSend?React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.applyShip},"申请发货"):null,this.state.canCancel?React.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.setState({showCancelModal:!0})}},"取消订单"):null),React.createElement(b["default"],{bsSize:"sm",title:"审核",show:this.state.showAuditModal,onHide:function(){return e.setState({showAuditModal:!1})}},React.createElement(w.Form,{onValidSubmit:this.onAudit},React.createElement(b["default"].Body,null,React.createElement(w.RadioGroup,{name:"pass",wrapperClassName:"radio-group-inline"},React.createElement(w.Radio,{value:"0",label:"通过"}),React.createElement(w.Radio,{value:"1",label:"不通过"})),React.createElement(w.ValidatedInput,{type:"textarea",name:"note",placeholder:"请输入备注信息"})),React.createElement(b["default"].FooterOk,{okLabel:"提交"}))),React.createElement(b["default"],{title:"取消订单",show:this.state.showCancelModal,onHide:function(){return e.setState({showCancelModal:!1})}},React.createElement(b["default"].BodyConfirm,null,"取消订单会终止订单后续业务，但库房已经打包或发出的商品将继续发货，请确认"),React.createElement(b["default"].FooterYesNo,{onYes:function(){e.setState({showCancelModal:!1}),x.SalesOrderActions.cancel(e.state.orderCode)},onNo:function(){return e.setState({showCancelModal:!1})}})),React.createElement(b["default"],{title:"自动发货提示",show:this.state.showConfirmModal,onHide:function(){return e.setState({showConfirmModal:!1})}},React.createElement(b["default"].BodyConfirm,null,this.state.confirmModalData),React.createElement(b["default"].FooterOk,{onOk:function(){return e.setState({showConfirmModal:!1})}})))}}]),t}(p["default"]),c.contextTypes={router:React.PropTypes.object.isRequired},l=s))||l;t["default"]=S},function(e,t,n){var a=n(294);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".salesorder-view form{overflow:hidden}.salesorder-view .form-group{margin-bottom:0}.salesorder-view .form-control-static{display:inline-block;margin:0;padding:0}.salesorder-view .button-group{padding-top:20px}.salesorder-view .button-group button+button{margin-left:20px}.salesorder-view .sales-order-table-footer{background:#fff;text-align:right;border-left:none;border-right:none;border-bottom:none;font-size:14px}.salesorder-view table{table-layout:auto}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"list",chunkLoader:function(e){e(n(218))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"shiporder",chunkLoader:function(e){e(n(297),n(298),n(303),n(307))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(23),p=a(d),f=(0,p["default"])(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return this.props.children}}]),t}(u["default"]))||l;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"list",chunkLoader:function(e){e(n(299))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.ORDER_STATUSES=t.ORDER_TYPE=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(9),b=a(h),g=n(39),y=a(g),v=n(15),E=n(49),k=a(E),w=n(23),x=a(w),R=n(121),S=a(R),_=n(105),O=n(230),N=a(O),C=n(52),P=n(25),T=n(219),M=n(300),j=n(206),D=n(220);n(301);var A=t.ORDER_TYPE=[{value:"-100",label:"全部"},{value:"0",label:"订单发货"},{value:"1",label:"换货发货"}],I=t.ORDER_STATUSES=Object.freeze([{value:"0",label:"待接单"},{value:"1",label:"接单失败"},{value:"2",label:"已接单"},{value:"3",label:"已打印"},{value:"4",label:"已拣货"},{value:"5",label:"已复核"},{value:"6",label:"已开发票"},{value:"7",label:"已扫描"},{value:"8",label:"已打包"},{value:"9",label:"已发货"},{value:"10",label:"签收"},{value:"11",label:"客户拒收"}]),z=(0,x["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],salesmen:[],customers:[],totalCount:0,status:"-100",salesproid:"-100",sendtype:"-100",resourceIds:[]},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(M.ShipOrderStore,function(t){return e.setState(t)},"getShipOrderListSuccess"),this.listen(M.ShipOrderStore,function(){b["default"].info("终止发货成功"),e.setState({showEndModal:!1})},"endShipOrderSuccess"),this.listen(M.ShipOrderStore,function(e){return b["default"].error(e)},"getShipOrderListFailed endShipOrderFailed"),this.listen(D.SalesStore,function(t){return e.setState({salesmen:t})},"getSalesMenSuccess"),this.listen(j.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(P.FuncStore,function(t){return e.setState({resourceIds:t})},"getResourcesSuccess"),D.SalesActions.getSalesMen(),j.CustomerActions.getAllCustomers(),P.FuncActions.getResources(this.context.location.pathname)}},{key:"loadPage",value:function(){var e=this.state,t=e.status,n=e.sendtype,a=e.startTime,r=e.endTime,o=e.salesproid,i=e.consumerid,l=e.saleswayid,c=e.usercode,s=e.pageNo,u=e.orderCode;t==-100&&(t=null),o==-100&&(o=null),n==-100&&(n=null),M.ShipOrderActions.getShipOrderList({status:t,sendtype:n,startTime:a,endTime:r,salesproid:o,consumerid:i,saleswayid:l,usercode:c,orderCode:u,page:s})}},{key:"onSearch",value:function(e){var t=e.usercode,n=e.orderCode;this.state.usercode=t,this.state.orderCode=n,this.onPageSelect({page:1,pagesize:this.state.pageSize})}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageNo=t,this.state.pageSize=n,this.loadPage()}},{key:"sum",value:function(e){return e.reduce(function(e,t){return Number.isNaN(Number(t))?e:e+t/1},0)}},{key:"originOrderLink",value:function(e){var t=e.orderCode;return"XSDD"===t.slice(0,4).toUpperCase()?"/market/salesorder/view/"+t:"/market/swaporder/view/"+t}},{key:"export",value:function(){var e=this.state,t=e.status,n=e.sendtype,a=e.startTime,r=e.endTime,o=e.salesproid,i=e.consumerid,l=e.saleswayid,c=e.usercode,s=e.orderCode;t==-100&&(t=null),o==-100&&(o=null),n==-100&&(n=null);var u={status:t,sendtype:n,startTime:a,endTime:r,salesproid:o,consumerid:i,saleswayid:l,usercode:c,orderCode:s},d="/market/exportSendOrder?";d+=Object.keys(u).filter(function(e){return u[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(u[e])}).join("&"),window.open(d)}},{key:"canSTOP",value:function(){return this.state.resourceIds.includes(P.MENU_IDS.SUSPEND_SHIP_ORDER)}},{key:"renderSumRow",value:function(){return this.state.data.length?React.createElement("tr",{key:this.state.data.length},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.currency(this.sum(this.state.data.map(function(e){return e.totalPrice})))),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)):null}},{key:"render",value:function(){var e=this,t=new Map(A.map(function(e){return Object.values(e)})),n=new Map(I.map(function(e){return Object.values(e)}));return React.createElement(k["default"],{className:"main__content market-track",title:"发货申请单列表"},React.createElement(C.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(S["default"],{label:"单据日期（起）：",onChange:function(t){return e.setState({startTime:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(S["default"],{label:"单据日期（止）：",onChange:function(t){return e.setState({endTime:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(_.Select.Modal,{label:"     单据状态：",value:this.state.status,onSelect:function(t){return e.setState({status:t})}},React.createElement(_.Option,{key:"-100",value:"-100",label:"全部"},"全部"),T.ORDER_STATUS.map(function(e){return React.createElement(_.Option,{key:e.value,value:e.value,label:e.label},e.label)})))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(_.Select.Modal,{label:"　　　　销售员：",optionFilterProp:"label",value:this.state.salesproid,onSelect:function(t){return e.setState({salesproid:t})}},React.createElement(_.Option,{key:"-100",value:"-100",label:"全部"},"全部"),this.state.salesmen.map(function(e){return React.createElement(_.Option,{key:e.id,value:e.id,label:e.sellerName},e.sellerName)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(_.Select.Modal,{label:"　　　　　客户：",placeholder:"请选择客户",optionFilterProp:"label",onSelect:function(t){return e.setState({consumerid:t})}},this.state.customers.map(function(e){return React.createElement(_.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(N["default"],{label:"　　     渠道：",onChange:function(t){return e.setState({saleswayid:t.id})}}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(C.ValidatedInput,{type:"text",name:"usercode",label:"　　发货申请人："})),React.createElement("div",{className:"col-xs-4"},React.createElement(_.Select.Modal,{label:"　　　发货类型：",value:this.state.sendtype,onSelect:function(t){return e.setState({sendtype:t})}},A.map(function(e){return React.createElement(_.Option,{key:e.value,value:e.value,label:e.label},e.label)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(C.ValidatedInput,{type:"text",placeholder:"发货单/订单/物流单号",name:"orderCode",style:{fontSize:"12px"},label:"　　单号："}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement("div",{className:"form-group"},React.createElement("button",{className:"btn btn-primary"},"查询"),this.state.resourceIds.includes(P.MENU_IDS.EXPORT_SHIP_ORDER)?React.createElement("button",{className:"btn btn-default",onClick:this["export"],style:{marginLeft:85}},"导出"):null)))),React.createElement(m["default"],{totalCount:this.state.totalCount,page:this.state.pageNo,pagesize:this.state.pageSize,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"操作"),React.createElement("th",null,"发货申请单号"),React.createElement("th",null,"发货申请日期"),React.createElement("th",null,"发货申请人"),React.createElement("th",null,"来源订单号"),React.createElement("th",null,"单据状态"),React.createElement("th",null,"客户"),React.createElement("th",null,"发货类型"),React.createElement("th",null,"申请发货数量"),React.createElement("th",null,"金额"),React.createElement("th",null,"实际发货数量"),React.createElement("th",null,"签收数量"),React.createElement("th",null,"拒签数量"),React.createElement("th",null,"销售员"),React.createElement("th",null,"收货人"),React.createElement("th",null,"收货人联系方式"),React.createElement("th",null,"收货地址"),React.createElement("th",null,"物流公司"),React.createElement("th",null,"物流单号"),React.createElement("th",null,"实际发货时间"),React.createElement("th",null,"签收/拒签时间"))),React.createElement("tbody",null,this.state.data.map(function(a,r){return React.createElement("tr",{key:r},React.createElement("td",{className:"text-center"},r+1),React.createElement("td",null,a.stopflag?React.createElement("span",{disabled:!0},"已终止"):null,a.stopflag||!e.canSTOP()?null:React.createElement("span",{className:"table-btn",onClick:function(){return e.setState({showEndModal:!0,dataEndModal:a})}},"终止发货")),React.createElement("td",null,React.createElement(v.Link,{to:"/market/shiporder/view/"+a.code},a.code)),React.createElement("td",null,a.createtime),React.createElement("td",null,a.username),React.createElement("td",null,React.createElement(v.Link,{to:e.originOrderLink(a)},a.orderCode)),React.createElement("td",null,n.get(a.status+"")),React.createElement("td",null,a.consumerName),React.createElement("td",null,t.get(a.sendtype+"")),React.createElement("td",{className:"text-right"},a.applyCount),React.createElement("td",{className:"text-right"},e.currency(a.totalPrice)),React.createElement("td",{className:"text-right"},a.sendCount),React.createElement("td",{className:"text-right"},a.acceptCount),React.createElement("td",{className:"text-right"},a.rejectCount),React.createElement("td",null,a.salesName),React.createElement("td",null,a.connectionName),React.createElement("td",null,a.connectionPhone),React.createElement("td",null,a.connectionAddress),React.createElement("td",null,a.tmsname),React.createElement("td",null,a.mailno),React.createElement("td",null,a.sendtime),React.createElement("td",null,a.responsetime))}),this.renderSumRow())),React.createElement(y["default"],{title:"终止发货",bsSize:"sm",dialogClassName:"end-modal",show:this.state.showEndModal,onHide:function(){return e.setState({showEndModal:!1})}},React.createElement(C.Form,{className:"form-horizontal",onValidSubmit:function(t){var n=t.notes;return M.ShipOrderActions.endShip(e.state.dataEndModal.id,n)}},React.createElement(y["default"].Body,null,React.createElement(C.ValidatedInput,{type:"textarea",name:"notes",placeholder:"请输入终止发货原因（必输）",validate:"required"})),React.createElement(y["default"].Footer,null,React.createElement("button",{type:"submit",className:"btn btn-primary"},"确认终止"),React.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.setState({showEndModal:!1})}},"放弃")))))}}]),t}(p["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=z},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ShipOrderStore=t.ShipOrderActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.ShipOrderActions=o["default"].createActions({getShipOrderList:c,getShipOrder:c,shipOrder:c,endShip:c});t.ShipOrderStore=o["default"].createStore({listenables:s,onGetShipOrderList:function(e){var t=this,n=e.startTime,a=e.endTime,r=e.status,o=e.salesproid,i=e.consumerid,c=e.saleswayid,s=e.usercode,u=e.orderCode,d=e.sendtype,p=e.page;(0,l["default"])({url:"sendorder/query",method:"get",data:{startTime:n,endTime:a,status:r,salesproid:o,consumerid:i,saleswayid:c,usercode:s,orderCode:u,sendtype:d,page:p}}).then(function(e){return t.trigger(e.data,"getShipOrderListSuccess")},function(e){return t.trigger(e.errmsg,"getShipOrderListFailed")})},onGetShipOrder:function(e){var t=this;(0,l["default"])({url:"sendorder/querySendOrderDetail",method:"get",data:{sendorderid:e}}).then(function(e){return t.trigger(e.data,"getShipOrderSuccess")},function(e){return t.trigger(e.errmsg,"getShipOrderFailed")})},shipOrder:function(e){var t=this;e=JSON.stringify(e),(0,l["default"])({url:"sendorder/commit",method:"post",data:{json:e}}).then(function(e){return t.trigger(e.data,"shipOrderSuccess")},function(e){return t.trigger(e.errmsg,"shipOrderFailed")})},onEndShip:function(e,t){var n=this;(0,l["default"])({url:"sendorder/stopSendOrder",method:"post",data:{id:e,reason:t}}).then(function(e){return n.trigger(e.data,"endShipOrderSuccess")},function(e){return n.trigger(e.errmsg,"endShipOrderFailed")})}})},function(e,t,n){var a=n(302);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-track table{table-layout:auto}.market-track form{display:inline-block}.market-track .form-control{width:200px}.market-track .channel-select .form-control{width:166px}.market-track .react-datetimepicker{display:inline-table;position:relative;top:9px;border:1px solid #ebf2f5;border-radius:0;width:200px}.market-track .react-datetimepicker .form-control{width:162px}.market-track .react-datetimepicker .input-group-addon{color:#8694a9}.market-track .react-datetimepicker .rdtPicker .dow{color:#000;text-align:center}.market-track .react-datetimepicker .rdtPicker td.rdtDay{text-align:center;vertical-align:middle}.end-modal .form-group{margin:0}.end-modal .form-group textarea{min-height:100px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"view/:id",chunkLoader:function(e){e(n(304))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(49),p=a(d),f=n(23),m=a(f),h=n(38),b=n(300),g=n(299);n(35),n(305);var y=(0,m["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[{}]},i=n,o(a,i)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(b.ShipOrderStore,function(t){return e.setState({data:t})},"getShipOrderSuccess"),b.ShipOrderActions.getShipOrder(this.props.params.id)}},{key:"render",value:function(){var e=new Map(g.ORDER_TYPE.map(function(e){return Object.values(e)})),t=new Map(g.ORDER_STATUSES.map(function(e){return Object.values(e)})),n=this.state.data[0],a=n.ordercode,r=n.creattime,o=n.consumername,i=n.sendtype,l=n.status,c=n.address,s=n.tmsname,u=n.mailNo,d=n.stopusername,f=n.stoptime,m=n.stopreason;return React.createElement(p["default"],{className:"main__content market-shiporder-view",title:"发货申请单"},React.createElement("form",{className:"form-horizontal"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"发货申请单号：",value:a})),React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"单据日期：",value:r})),React.createElement("div",{className:"col-xs-6"},React.createElement(h.FormControls.Static,{label:"　　客户：",value:o}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"　　发货类型：",value:e.get(i+"")})),React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"单据状态：",value:t.get(l+"")})),React.createElement("div",{className:"col-xs-6"},React.createElement(h.FormControls.Static,{label:"收货信息：",value:c}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"　　快递公司：",value:s})),React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"快递单号：",value:u}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"　　　终止人：",value:d})),React.createElement("div",{className:"col-xs-3"},React.createElement(h.FormControls.Static,{label:"终止时间：",value:f})),React.createElement("div",{className:"col-xs-6"},React.createElement(h.FormControls.Static,{label:"　　备注：",value:m})))),React.createElement("div",{className:"table-responsive"},React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"申请发货数量"))),React.createElement("tbody",null,this.state.data.map(function(e,t){return React.createElement("tr",{key:t+1},React.createElement("td",{className:"text-center"},t+1),React.createElement("td",null,e.itemcode),React.createElement("td",null,e.itemName),React.createElement("td",{className:"text-right"},e.amount))})))))}}]),t}(u["default"]))||l;t["default"]=y},function(e,t,n){var a=n(306);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-shiporder-view form{overflow:hidden}.market-shiporder-view .form-group{margin:0}.market-shiporder-view .form-control-static{display:inline-block;margin:0;padding:0}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"create",chunkLoader:function(e){e(n(308))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(9),p=a(d),f=n(39),m=a(f),h=n(49),b=a(h),g=n(23),y=a(g),v=n(38),E=n(219),k=n(309),w=n(300);n(35),n(310);var x=(0,y["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),
a.state={details:[],disabled:!1},i=n,o(a,i)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(E.SalesOrderStore,function(t){t.details.forEach(function(e){return e.sqty=e.hasOwnProperty("initCount")?e.initCount:""}),e.setState(t)},"getSalesOrderDetailSuccess"),this.listen(E.SalesOrderStore,function(e){return p["default"].error(e)},"getSalesOrderDetailFailed"),this.listen(k.SwapOrderStore,function(t){t.details.forEach(function(e){return e.sqty=e.hasOwnProperty("initCount")?e.initCount:""}),e.setState(t)},"getSwapOrderSuccess"),this.listen(k.SwapOrderStore,function(e){return p["default"].error(e)},"getSwapOrderFailed"),this.listen(w.ShipOrderStore,function(){p["default"].info("创建发货单成功"),e.setState({disabled:!0,showConfirmModal:!1})},"shipOrderSuccess"),this.listen(w.ShipOrderStore,function(e){return p["default"].error(e)},"shipOrderFailed");var t=this.props.location.query.id;this.isSalesOrder()?E.SalesOrderActions.getSalesOrder(t):k.SwapOrderActions.getSwapOrder(t)}},{key:"isSalesOrder",value:function(){return"XSD"===this.props.location.query.id.slice(0,3).toUpperCase()}},{key:"showConfirmModal",value:function(){return this.state.dataError=!this.state.details.every(function(e){var t=e.sqty;return!Number.isNaN(Number(t))}),this.state.dataError?this.forceUpdate():void this.setState({showConfirmModal:!0})}},{key:"shipOrder",value:function(){var e={orderCode:this.props.location.query.id,list:this.state.details.map(function(e){var t=e.itemId,n=e.sqty;return{itemCode:t,qty:n}})};w.ShipOrderActions.shipOrder(e)}},{key:"render",value:function(){var e=this;return React.createElement(b["default"],{className:"main__content market-shiporder-create",title:"发货申请单（"+(this.isSalesOrder()?"订单销售":"换货")+"）"},React.createElement("form",{className:"form-horizontal"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(v.FormControls.Static,{label:"来源单据号：",value:this.props.location.query.id})),React.createElement("div",{className:"col-xs-4"},React.createElement(v.FormControls.Static,{label:"订单日期：",value:this.state.startTime}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(v.FormControls.Static,{label:"客户：",value:this.state.consumerName})),React.createElement("div",{className:"col-xs-8"},React.createElement(v.FormControls.Static,{label:"收货信息：",value:this.state.address+" "+this.state.receiver+" "+this.state.phone})))),React.createElement("div",{className:"table-responsive"},React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"商品名称"),React.createElement("th",null,"数量"),React.createElement("th",null,"金额"),React.createElement("th",null,"申请人"),React.createElement("th",null,"可换货数量"),React.createElement("th",null,"已申请发货数量"),React.createElement("th",null,"实际发出数量"),React.createElement("th",null,"实际未发数量"),React.createElement("th",null,"总库存"),React.createElement("th",null,"可用库存数量"),React.createElement("th",null,"本次发货数量"))),React.createElement("tbody",null,this.state.details.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",null,t.itemName),React.createElement("td",{className:"text-right"},t.qty),React.createElement("td",{className:"text-right"},t.totalPrice),React.createElement("td",null,t.creatorName),React.createElement("td",{className:"text-right"},t.canExchangeCount),React.createElement("td",{className:"text-right"},t.alreadyApplyCount),React.createElement("td",{className:"text-right"},t.sendCount),React.createElement("td",{className:"text-right"},t.canExchangeCount?t.canExchangeCount-t.sendCount:t.qty-t.sendCount),React.createElement("td",{className:"text-right"},t.zongkucun),React.createElement("td",{className:"text-right"},t.keyongkucun),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",value:t.sqty,onChange:function(n){e.state.dataError=!1,t.sqty=n.target.value,e.forceUpdate()}})))})))),React.createElement("button",{type:"button",disabled:this.state.disabled,className:"btn btn-primary",style:{marginTop:10},onClick:this.showConfirmModal},"确认发货"),this.state.dataError?React.createElement("span",{className:"order-data-error"},"请填写正确的发货数量"):null,React.createElement(m["default"],{bsSize:"sm",title:"发货确认",show:this.state.showConfirmModal,onHide:function(){return e.setState({showConfirmModal:!1})}},React.createElement(m["default"].BodyConfirm,null,"您申请的发货信息将直接推送给库房。库房发货前可在【发货申请单列表】终止发货。"),React.createElement(m["default"].FooterYesNo,{onYes:this.shipOrder,onNo:function(){return e.setState({showConfirmModal:!1})}})))}}]),t}(u["default"]))||l;t["default"]=x},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwapOrderStore=t.SwapOrderActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.SwapOrderActions=o["default"].createActions({getSwapOrderList:c,getSwapOrder:c,getCode:c,add:c,exchange:c,delOrder:c});t.SwapOrderStore=o["default"].createStore({listenables:s,onGetSwapOrderList:function(e){var t=this,n=e.startDate,a=e.endDate,r=e.orderCode,o=e.consumerId,i=e.receiverOrPhone,c=e.saleswayId,s=e.expressName,u=e.expressNo,d=e.pageNo;(0,l["default"])({url:"market/queryReSendOrder",method:"get",data:{startDate:n,endDate:a,orderCode:r,consumerId:o,receiverOrPhone:i,saleswayId:c,expressName:s,expressNo:u,pageNo:d}}).then(function(e){return t.trigger(e.data,"getSwapOrderListSuccess")},function(e){return t.trigger(e.errmsg,"getSwapOrderListFailed")})},onGetSwapOrder:function(e){var t=this;(0,l["default"])({url:"market/queryResendOrderDetail",method:"get",data:{orderCode:e}}).then(function(e){return t.trigger(e.data,"getSwapOrderSuccess")},function(e){return t.trigger(e.errmsg,"getSwapOrderFailed")})},onGetCode:function(){var e=this;(0,l["default"])("market/obtainResendOrderCode").then(function(t){return e.trigger(t.data,"getSwapOrderCodeSuccess")},function(t){return e.trigger(t.errmsg,"getSwapOrderCodeFailed")})},onAdd:function(e){var t=this;e=JSON.stringify(e),(0,l["default"])({url:"market/commitResendOrder",method:"post",data:{json:e}}).then(function(e){return t.trigger(e.data,"addSwapOrderSuccess")},function(e){return t.trigger(e.errmsg,"addSwapOrderFailed")})},onExchange:function(e){this.trigger(e,"exchangeSwapOrderSuccess")},onDelOrder:function(e){var t=this;(0,l["default"])({url:"market/cancelThorder",method:"post",data:{reOrderCode:e}}).then(function(e){return t.trigger(e.data,"delSwapOrderSuccess")},function(e){return t.trigger(e.errmsg,"delSwapOrderFailed")})}})},function(e,t,n){var a=n(311);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-shiporder-create .form-control-static{display:inline-block;margin:0;padding:0}.market-shiporder-create form{overflow:hidden}.market-shiporder-create table{table-layout:auto}.market-shiporder-create .order-data-error{position:relative;margin-left:20px;top:7px;color:#a94442}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"swaporder",chunkLoader:function(e){e(n(313),n(314),n(318),n(322))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(23),p=a(d),f=(0,p["default"])(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return this.props.children}}]),t}(u["default"]))||l;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"list",chunkLoader:function(e){e(n(315))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(9),p=a(d),f=n(34),m=a(f),h=n(39),b=(a(h),n(15)),g=n(49),y=a(g),v=n(23),E=a(v),k=n(121),w=a(k),x=n(105),R=n(230),S=a(R),_=n(52),O=n(309),N=n(206),C=n(207),P=a(C);n(316);var T=(0,E["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],customers:[],expressName:"全部"},i=n,o(a,i)}return i(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(N.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(N.CustomerStore,function(e){return p["default"].error(e)},"getAllCustomerFailed"),this.listen(O.SwapOrderStore,function(t){return e.setState(t)},"getSwapOrderListSuccess"),this.listen(O.SwapOrderStore,function(e){return p["default"].error(e)},"getSwapOrderListFailed"),N.CustomerActions.getAllCustomers()}},{key:"loadPage",value:function(){var e=this.state,t=e.startDate,n=e.endDate,a=e.orderCode,r=e.consumerId,o=e.receiverOrPhone,i=e.saleswayId,l=e.expressName,c=e.expressNo,s=e.pageNo;"全部"===l&&(l=null),O.SwapOrderActions.getSwapOrderList({startDate:t,endDate:n,orderCode:a,consumerId:r,receiverOrPhone:o,saleswayId:i,expressName:l,expressNo:c,pageNo:s})}},{key:"onSearch",value:function(e){var t=e.orderCode,n=e.receiverOrPhone,a=e.expressNo;this.state.receiverOrPhone=n,this.state.expressNo=a,this.state.orderCode=t,this.onPageSelect({page:1,pagesize:this.state.pageSize})}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageNo=t,this.state.pageSize=n,this.loadPage()}},{key:"export",value:function(){var e=this.state,t=e.startDate,n=e.endDate,a=e.orderCode,r=e.consumerId,o=e.receiverOrPhone,i=e.saleswayId,l=e.expressName,c=e.expressNo;"全部"===l&&(l=null);var s={startDate:t,endDate:n,orderCode:a,consumerId:r,receiverOrPhone:o,saleswayId:i,expressName:l,expressNo:c},u="/market/exportReSendOrder?";u+=Object.keys(s).filter(function(e){return s[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),window.open(u)}},{key:"render",value:function(){var e=this;return React.createElement(y["default"],{className:"main__content market-swaporder-list",title:"换货申请单列表"},React.createElement(_.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"单据日期（起）：",onChange:function(t){return e.setState({startDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"单据日期（止）：",onChange:function(t){return e.setState({endDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(_.ValidatedInput,{type:"text",name:"orderCode",label:"单号：",placeholder:"换货申请/入库单号"}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(x.Select.Modal,{label:"　　　　　客户：",placeholder:"请选择客户",optionFilterProp:"label",onSelect:function(t){return e.setState({consumerId:t})}},this.state.customers.map(function(e){return React.createElement(x.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(_.ValidatedInput,{type:"text",name:"receiverOrPhone",label:"　　　　联系人：",placeholder:"姓名或手机号"})),React.createElement("div",{className:"col-xs-4"},React.createElement(S["default"],{label:"　　渠道：",onChange:function(t){return e.setState({saleswayId:t.id})}}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-8 logistics"},React.createElement(x.Select.Modal,{label:"　　　物流单号：",optionFilterProp:"label",value:this.state.expressName,onSelect:function(t){return e.setState({expressName:t})}},React.createElement(x.Option,{key:"全部",value:"全部",label:"全部"},"全部"),P["default"].map(function(e){return React.createElement(x.Option,{key:e,value:e,label:e},e)})),React.createElement(_.ValidatedInput,{type:"text",name:"expressNo"})),React.createElement("div",{className:"col-xs-4"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"　　　"),React.createElement("div",null,React.createElement("button",{className:"btn btn-primary"},"查询"),React.createElement("button",{className:"btn btn-default",onClick:this["export"],style:{marginLeft:85}},"导出")))))),React.createElement(m["default"],{totalCount:this.state.totalCount,page:this.state.pageNo,pagesize:this.state.pageSize,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"换货申请单号"),React.createElement("th",null,"换货单日期"),React.createElement("th",null,"换货入库单号"),React.createElement("th",null,"原销售订单号"),React.createElement("th",null,"状态"),React.createElement("th",null,"客户"),React.createElement("th",null,"渠道"),React.createElement("th",null,"物流商"),React.createElement("th",null,"物流单号"),React.createElement("th",null,"换货数量"),React.createElement("th",null,"确认退回数量"),React.createElement("th",null,"不符数量"),React.createElement("th",null,"仓库确认人"),React.createElement("th",null,"客户联系人"),React.createElement("th",null,"联系方式"),React.createElement("th",null,"联系地址"))),React.createElement("tbody",null,this.state.data.map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",{className:"text-center"},t+1),React.createElement("td",null,React.createElement(b.Link,{to:"/market/swaporder/view/"+e.reOrderCode},e.reOrderCode)),React.createElement("td",null,e.startTime),React.createElement("td",null,React.createElement(b.Link,{to:"/store/returnorder/view/"+e.rebackId},e.instoreCode)),React.createElement("td",null,e.orderCode),React.createElement("td",null,e.status),React.createElement("td",null,e.consumerName),React.createElement("td",null,e.salesWay),React.createElement("td",null,e.expressName),React.createElement("td",null,e.expressNo),React.createElement("td",{className:"text-right"},e.sum),React.createElement("td",{className:"text-right"},e.backsum),React.createElement("td",{className:"text-right"},e.abnormalsum),React.createElement("td",null,e.storePeopleName),React.createElement("td",null,e.receiverName),React.createElement("td",null,e.receiverPhone),React.createElement("td",null,e.receiverAddress))}),React.createElement("tr",{key:this.state.data.length,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.state.data.map(function(e){return e.sum/1}).filter(function(e){return e}).reduce(function(e,t){return e+t},0)),React.createElement("td",{className:"text-right"},this.state.data.map(function(e){return e.backsum/1}).filter(function(e){return e}).reduce(function(e,t){return e+t},0)),React.createElement("td",{className:"text-right"},this.state.data.map(function(e){return e.abnormalsum/1}).filter(function(e){return e}).reduce(function(e,t){return e+t},0)),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)))))}}]),t}(u["default"]))||l;t["default"]=T},function(e,t,n){var a=n(317);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-swaporder-list table{table-layout:auto}.market-swaporder-list form{display:inline-block}.market-swaporder-list .form-control{width:200px}.market-swaporder-list .react-datetimepicker{display:inline-table;position:relative;top:9px;border:1px solid #ebf2f5;border-radius:0;width:200px}.market-swaporder-list .react-datetimepicker .form-control{width:162px}.market-swaporder-list .react-datetimepicker .input-group-addon{color:#8694a9}.market-swaporder-list .react-datetimepicker .rdtPicker .dow{color:#000;text-align:center}.market-swaporder-list .react-datetimepicker .rdtPicker td.rdtDay{text-align:center;vertical-align:middle}.market-swaporder-list .logistics .form-group{display:inline-block}.market-swaporder-list .logistics .form-group+.form-group{margin:0 0 0 20px;position:relative;top:2px}.market-swaporder-list .logistics+.col-xs-4 .form-group label+div{display:inline-block}.market-swaporder-list .channel-select .modal-container{left:32px}.market-swaporder-list .channel-select .modal-container:before{left:auto;right:0}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"create",chunkLoader:function(e){e(n(319))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c,s,u,d=(n(204),n(196)),p=a(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=n(19),h=a(m),b=n(122),g=a(b),y=n(3),v=a(y),E=n(9),k=a(E),w=n(39),x=a(w),R=n(49),S=a(R),_=n(23),O=a(_),N=n(105),C=n(38),P=n(69),T=a(P),M=n(230),j=a(M),D=n(52),A=n(231),I=a(A),z=n(219),L=n(309),F=n(220),U=n(206),Y=n(207),V=a(Y);n(320);var K=(0,O["default"])((u=s=function(e){function t(){var e,n,a,r;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],contact:{},salesmen:[],contacts:[],customer:{},customers:[],salesorder:{details:[]},exnotes:"",user:v["default"].getUserContext().username,createDate:(0,g["default"])(new Date).format("YYYY-MM-DD")},r=n,i(a,r)}return l(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(U.CustomerStore,function(t){e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(U.CustomerStore,function(t){e.getContacts(t)},"getContactsSuccess"),this.listen(U.CustomerStore,function(e){return k["default"].error(e)},"getAllCustomerFailed getContactsFailed"),this.listen(L.SwapOrderStore,function(t){e.setState({reOrderCode:t}),console.log(t)},"getSwapOrderCodeSuccess"),this.listen(L.SwapOrderStore,function(t){return""!=t?e.setState({showConfirmModal:!0,confirmModalData:t}):(k["default"].info("换货单添加成功"),void e.context.router.push("/market/swaporder/view/"+e.state.reOrderCode))},"addSwapOrderSuccess"),this.listen(L.SwapOrderStore,function(e){return k["default"].error(e)},"getSwapOrderCodeFailed addSwapOrderFailed"),this.listen(z.SalesOrderStore,this.initBySalesOrder,"getSalesOrderDetailSuccess"),this.listen(z.SalesOrderStore,function(){return e.setState({salesorder:{details:[]}})},"getSalesOrderDetailFailed"),this.listen(F.SalesStore,function(t){return e.setState({salesmen:t})},"getSalesMenSuccess"),F.SalesActions.getSalesMen(),L.SwapOrderActions.getCode(),U.CustomerActions.getAllCustomers(),this.addData()}},{key:"initBySalesOrder",value:function(e){this.state.consumerId=e.consumerId,this.state.saleswayId=e.saleswayId,this.state.salesorder=e,U.CustomerActions.getContacts(e.consumerId)}},{key:"getContacts",value:function(e){e.forEach(function(e){var t=e.provinceName,n=e.cityName,a=e.districtName,r=e.address,o=e.name,i=e.phone;e.label=t+" "+n+" "+a+" "+r+" "+o+" "+i});var t={};this.setState({contacts:e,contact:t,connectionId:t.id,contactError:!1})}},{key:"selectCustomer",value:function(e){this.state.customer=e,this.state.saleswayId=e.saleswayid,this.state.salesorder={salesway:e.saleswayname,details:[]},this.state.consumerId=e.id,this.state.customerError=!1,U.CustomerActions.getContacts(e.id)}},{key:"onValidSubmit",value:function(e){var t=e.orderCode,n=e.expressNo;if(!this.onInvalidSubmit()){this.state.orderCode=t,this.state.expressNo=n;var a=this.state,r=a.reOrderCode,o=a.consumerId,i=a.saleswayId,l=a.connectionId,c=a.expressName,s=a.createDate,u=a.data,d=a.salesmanId;L.SwapOrderActions.add({reOrderCode:r,orderCode:t,consumerId:o,saleswayId:i,salesmanId:d,connectionId:l,expressName:c,expressNo:n,createDate:s,exnotes:this.state.exnotes,list:u.map(function(e,t){var n=e.itemCode,a=e.qty,r=e.notes,o=e.unit;return{no:t+1,itemCode:n,qty:a,notes:r,unit:o}})})}}},{key:"onInvalidSubmit",value:function(){if(this.state.customerError=!this.state.consumerId,this.state.salesmanError=!this.state.salesmanId,this.state.contactError=!this.state.contact.id,this.state.expressError=!this.state.expressName,this.state.exnotesError=!this.state.exnotes,this.state.dataError=0===this.state.data.map(function(e){return e.itemCode}).filter(function(e){return e}).length,!this.state.dataError&&this.state.salesorder.details.length>0){var e=this.state.salesorder.details.map(function(e){return e.itemId}),t=!0,n=!1,a=void 0;try{for(var r,o=this.state.data[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;if(!e.includes(i.itemCode)){this.state.dataError=i.itemName+" 在原销售订单中不存在，请重新选择";break}}}catch(l){n=!0,a=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw a}}}return!!(this.state.customerError||this.state.contactError||this.state.salesmanError||this.state.dataError||this.state.exnotesError)&&(this.forceUpdate(),!0)}},{key:"addData",value:function(){var e=this.state.data;return e.push({itemCode:null,qty:null,notes:null}),this.setState({data:e})}},{key:"delData",value:function(e){var t=this.state.data;return t.splice(e,1),this.setState({data:t})}},{key:"sum",value:function(e){var t=this.state.data,n=t.map(e).map(function(e){return Number(e)}).filter(function(e){return!Number.isNaN(e)});return n.reduce(function(e,t){return e+t},0)||0}},{key:"selectGoods",value:function(e,t){var n=this.state.data;return e=Array.isArray(e)?e:[e],n.splice.apply(n,[t,1].concat(r(e))),this.setState({data:n,dataError:!1})}},{key:"getSalesOrder",value:function(e){z.SalesOrderActions.getSalesOrder(e)}},{key:"render",value:function(){var e=this,t=this.state.contacts.map(function(e){return React.createElement(N.Option,{key:e.id,value:e.id,label:e.label,contact:e},e.label)});return 1===t.length&&(t=t[0]),React.createElement(S["default"],{className:"main__content market-swaporder-create",title:"换货申请单"},React.createElement(D.Form,{className:"form-horizontal",onValidSubmit:this.onValidSubmit,onInvalidSubmit:this.onInvalidSubmit},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(C.FormControls.Static,{label:"　　　　编号：",value:this.state.reOrderCode}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"　　　　客户：",placeholder:"请选择客户",optionFilterProp:"label",value:this.state.consumerId,isError:function(){return e.state.customerError},onSelect:function(t,n){return e.selectCustomer(n.props.customer)}},this.state.customers.map(function(e){return React.createElement(N.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(D.ValidatedInput,{type:"text",name:"orderCode",label:"原销售订单号：",onBlur:function(t){return e.getSalesOrder(t.target.value)}})),React.createElement("div",{className:"col-xs-4"},React.createElement(j["default"],{label:"　　渠道：",disabled:!0,value:{name:this.state.salesorder.salesway},onChange:function(t){return e.setState({saleswayId:t.id})}}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-8 logistics"},React.createElement(N.Select.Modal,{label:"退回物流单号：",optionFilterProp:"label",isError:function(){return e.state.expressError},onSelect:function(t){return e.setState({expressName:t,expressError:!1})}},V["default"].map(function(e){return React.createElement(N.Option,{key:e,value:e,label:e},e)})),React.createElement(D.ValidatedInput,{type:"text",name:"expressNo",validate:"required"})),React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"物流备注：",placeholder:"请选择物流备注",optionFilterProp:"label",isError:function(){return e.state.exnotesError},value:this.state.exnotes,onSelect:function(t){e.setState({exnotes:t,exnotesError:!1})}},React.createElement(N.Option,{key:"0",value:"普通发货",label:"普通发货"},"普通发货"),React.createElement(N.Option,{key:"1",value:"特殊发货",label:"特殊发货"},"特殊发货"),React.createElement(N.Option,{key:"2",value:"自提",label:"自提"},"自提")))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-7"},React.createElement(N.Select.Modal,{label:"客户联系方式：",optionFilterProp:"label",labelClassName:"width-84",wrapperClassName:"contact-address-select-wrapper",value:this.state.contact.id,isError:function(){return e.state.contactError},onSelect:function(t,n){return e.setState({connectionId:t,contact:n.props.contact,contactError:!1})}},t)),React.createElement("div",{className:"col-xs-1"},this.state.customer.id?React.createElement("span",{className:"new-contact-button",onClick:function(t){t.preventDefault(),e.setState({showCustomerAddressModal:!0})}},"新建收货信息"):null),React.createElement("div",{className:"col-xs-4"},React.createElement(N.Select.Modal,{label:"　销售员：",optionFilterProp:"label",value:this.state.salesmanId,isError:function(){return e.state.salesmanError},onSelect:function(t){return e.setState({salesmanId:t,salesmanError:!1})}},this.state.salesmen.map(function(e){return React.createElement(N.Option,{key:e.id,value:e.id,label:e.sellerName,salesman:e},e.sellerName)})))),React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",{style:{width:50}},"操作"),React.createElement("th",{style:{width:150}},"商品名称"),React.createElement("th",{style:{width:200}},"商品编码"),React.createElement("th",null,"规格型号"),React.createElement("th",{style:{width:100}},"换货数量"),React.createElement("th",{style:{width:50}},"单位"),React.createElement("th",null,"备注"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},React.createElement("span",{className:"table-btn",onClick:function(){return e.delData(n)}},"删除")),React.createElement("td",null,React.createElement(T["default"],{multiple:!0,onlyCategory:!1,value:t,onChange:function(t){return e.selectGoods(t,n)}})),React.createElement("td",null,t.itemCode),React.createElement("td",null,t.specName),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",onChange:function(n){t.qty=n.target.value,e.forceUpdate()}})),React.createElement("td",{className:"text-center"},t.unit),React.createElement("td",null,React.createElement("input",{type:"text",className:"form-control",onChange:function(n){t.notes=n.target.value,e.forceUpdate()}})))}),React.createElement("tr",{key:this.state.data.length+1,className:"table-normal"},React.createElement("td",{colSpan:8},React.createElement("span",{className:"table-btn",onClick:function(t){t.preventDefault(),e.addData()}},React.createElement(p["default"],{type:"plus"})," 新增一行"))),React.createElement("tr",{key:this.state.data.length+2,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null,this.sum(function(e){return e.qty/1})),React.createElement("td",null),React.createElement("td",null)),React.createElement("tr",{key:this.state.data.length+3},React.createElement("td",{colSpan:8,className:"sales-order-table-footer"},"制单人："+this.state.user+"　　　　　制单日期："+this.state.createDate)))),React.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginTop:10}},"提交"),this.state.dataError?React.createElement("span",{className:"order-data-error"},"string"==typeof this.state.dataError?this.state.dataError:"请加入商品"):null),React.createElement(x["default"],{title:"自动发货提示",show:this.state.showConfirmModal,onHide:function(){return e.setState({showConfirmModal:!1})}},React.createElement(x["default"].BodyConfirm,null,this.state.confirmModalData),React.createElement(x["default"].FooterOk,{onOk:function(){return e.setState({showConfirmModal:!1})}})),React.createElement(I["default"],{title:"客户联系人管理",show:this.state.showCustomerAddressModal,onHide:function(){e.setState({showCustomerAddressModal:!1}),e.selectCustomer(e.state.customer)},model:this.state.customer}))}}]),t}(h["default"]),s.contextTypes={router:React.PropTypes.object.isRequired},c=u))||c;t["default"]=K},function(e,t,n){var a=n(321);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-swaporder-create .form-control,.market-swaporder-create .form-control-static{width:200px;display:inline-block}.market-swaporder-create .logistics .form-group{display:inline-block}.market-swaporder-create .logistics .form-group+.form-group{margin:0 0 0 20px;position:relative;top:2px}.market-swaporder-create .logistics+.col-xs-4 .form-group label+div{display:inline-block}.market-swaporder-create .width-84{width:84px}.market-swaporder-create .contact-address-select-wrapper{width:calc(100% - 94px)}.market-swaporder-create .contact-address-select-wrapper .select-modal{width:calc(100% - 15px)!important}.market-swaporder-create .sales-order-table-footer{background:#fff;text-align:right;border-left:none;border-right:none;border-bottom:none;font-size:14px}.market-swaporder-create .new-contact-button{display:inline-block;margin-top:10px;margin-left:-15px;cursor:pointer}.market-swaporder-create .goods-select{margin:0}.market-swaporder-create .goods-select input.form-control{width:auto;background:#fff}.market-swaporder-create .goods-select i.icon{line-height:36px;top:1px;background:#fff}.market-swaporder-create .table .form-control{width:100%}.market-swaporder-create .table td{padding-top:4px}.market-swaporder-create .order-data-error{position:relative;margin-left:20px;top:7px;color:#a94442}",""]);
},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"view/:orderCode",chunkLoader:function(e){e(n(323))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(39),m=a(f),h=n(49),b=a(h),g=n(23),y=a(g),v=n(9),E=a(v),k=n(38),w=n(309);n(35),n(324);var x=(0,y["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={details:[]},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(w.SwapOrderStore,function(t){return e.setState(t)},"getSwapOrderSuccess"),w.SwapOrderActions.getSwapOrder(this.props.params.orderCode),this.listen(w.SwapOrderStore,function(){E["default"].info("删除成功"),e.context.router.push({pathname:"/market/swaporder/list"})},"delSwapOrderSuccess"),this.listen(w.SwapOrderStore,function(e){E["default"].error(e)},"delSwapOrderFailed")}},{key:"sum",value:function(e){return this.state.details.map(function(t){return t[e]/1}).filter(function(e){return!Number.isNaN(e)}).reduce(function(e,t){return e+t},0)}},{key:"exchange",value:function(){this.context.router.push({pathname:"/market/shiporder/create",query:{id:this.state.reOrderCode}})}},{key:"render",value:function(){var e=this;return React.createElement(b["default"],{className:"main__content market-swaporder-view",title:"换货申请单"},React.createElement("form",{className:"form-horizontal"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"编号：",value:this.state.reOrderCode}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"客户：",value:this.state.consumerName})),React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"原销售订单号：",value:this.state.orderCode})),React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"渠道：",value:this.state.salesWay}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-8"},React.createElement(k.FormControls.Static,{label:"退回物流单号：",value:this.state.expressName+" "+this.state.expressNo})),React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"销售员：",value:""+this.state.sellerName}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-8"},React.createElement(k.FormControls.Static,{label:"客户联系方式：",value:this.state.address+" "+this.state.receiver+" "+this.state.phone})),React.createElement("div",{className:"col-xs-4"},React.createElement(k.FormControls.Static,{label:"物流备注：",value:this.state.exnotes})))),React.createElement("div",{className:"table-responsive"},React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"换货数量"),React.createElement("th",null,"退回数量"),React.createElement("th",null,"不符数量"),React.createElement("th",null,"单位"),React.createElement("th",null,"已申请发货数量"),React.createElement("th",null,"实际已发数量"),React.createElement("th",null,"累计签收数量"),React.createElement("th",null,"累计拒收数量"),React.createElement("th",null,"可用库存"),React.createElement("th",null,"总库存"),React.createElement("th",null,"备注"))),React.createElement("tbody",null,this.state.details.map(function(e,t){return React.createElement("tr",{key:t+1},React.createElement("td",{className:"text-center"},t+1),React.createElement("td",null,e.itemId),React.createElement("td",null,e.itemName),React.createElement("td",null,e.specName),React.createElement("td",{className:"text-right"},e.qty),React.createElement("td",{className:"text-right"},e.backCount),React.createElement("td",{className:"text-right"},e.abnormalCount),React.createElement("td",null,e.unit),React.createElement("td",{className:"text-right"},e.alreadyApplyCount),React.createElement("td",{className:"text-right"},e.sendCount),React.createElement("td",{className:"text-right"},e.receivedCount),React.createElement("td",{className:"text-right"},e.rejectedCount),React.createElement("td",{className:"text-right"},e.zongkucun),React.createElement("td",{className:"text-right"},e.keyongkucun),React.createElement("td",null,e.notes))}),React.createElement("tr",{key:this.state.details.length,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.sum("qty")),React.createElement("td",{className:"text-right"},this.sum("backCount")),React.createElement("td",{className:"text-right"},this.sum("abnormalCount")),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.sum("alreadyApplyCount")),React.createElement("td",{className:"text-right"},this.sum("sendCount")),React.createElement("td",{className:"text-right"},this.sum("receivedCount")),React.createElement("td",{className:"text-right"},this.sum("rejectedCount")),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)),React.createElement("tr",{key:this.state.details.length+1},React.createElement("td",{colSpan:15,className:"swap-order-table-footer"},"制单人："+this.state.creatorName+"　　　　　制单日期："+this.state.startTime))))),React.createElement(m["default"],{title:"删除订单",show:this.state.showCancelModal,onHide:function(){return e.setState({showCancelModal:!1})}},React.createElement(m["default"].BodyConfirm,null,"您确定要删除该单据吗？删除后不可恢复。"),React.createElement(m["default"].FooterYesNo,{onYes:function(){e.setState({showCancelModal:!1}),w.SwapOrderActions.delOrder(e.state.reOrderCode)},onNo:function(){return e.setState({showCancelModal:!1})}})),this.state.canExchange?React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.exchange},"发货"):null,this.state.canCancel?React.createElement("button",{type:"button",className:"btn btn-default",style:{marginLeft:"30px"},onClick:function(){return e.setState({showCancelModal:!0})}},"删除"):null)}}]),t}(p["default"]),c.contextTypes={router:React.PropTypes.object.isRequired},l=s))||l;t["default"]=x},function(e,t,n){var a=n(325);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-swaporder-view table{table-layout:auto}.market-swaporder-view form{overflow:hidden}.market-swaporder-view .form-group{margin:0}.market-swaporder-view .form-control-static{display:inline-block;margin:0;padding:0}.market-swaporder-view .swap-order-table-footer{background:#fff;text-align:right;border-left:none;border-right:none;border-bottom:none;font-size:14px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"waitorder",chunkLoader:function(e){e(n(327))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(9),b=a(h),g=n(15),y=n(49),v=a(y),E=n(23),k=a(E),w=n(39),x=a(w),R=n(105),S=n(33),_=a(S),O=n(52),N=n(328),C=n(206),P=n(53);n(329);var T=(0,k["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],totalCount:0,pageNo:1,itemId:"",orderCode:"",customer:{id:"",level:"",saleswayname:""},customers:[],consumerId:"-100",type:"0",auditModalShow:!1,auditModalData:{}},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(N.WaitOrderStore,function(t){return e.setState(t)},"getWaitOrderListSuccess"),this.listen(C.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),C.CustomerActions.getAllCustomers(),this.listen(P.DashboardStore,function(t){return e.setState({auditModalShow:!1}),e.loadPage(),""!=t?e.setState({showConfirmModal:!0,confirmModalData:t}):void b["default"].info("审核成功")},"approveOrderSuccess")}},{key:"onSearch",value:function(e){var t=e.itemId,n=e.orderCode;this.state.orderCode=n,this.state.itemId=t,this.onPageSelect({page:1,pagesize:this.state.pagesize})}},{key:"loadPage",value:function(){var e=this.state,t=e.consumerId,n=e.itemId,a=e.type,r=e.orderCode,o=e.pageNo;t==-100&&(t=null),N.WaitOrderActions.getWaitOrderList({consumerId:t,itemId:n,type:a,orderCode:r,pageNo:o})}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageSize=n,this.state.pageNo=t,this.loadPage()}},{key:"currency",value:function(e){if(0==e)return 0;if(!e)return"";var t=Number(e);return Number.isNaN(e)?e:t<0?"￥-"+Number(Math.abs(t)).toFixed(2):"￥"+Number(t).toFixed(2)}},{key:"sum",value:function(e){return e.reduce(function(e,t){return e+t/1},0)}},{key:"export",value:function(){var e=this.state,t=e.consumerId,n=e.itemId,a=e.type,r=e.orderCode;t==-100&&(t=null);var o={consumerId:t,itemId:n,type:a,orderCode:r},i="/dashboard/export?";i+=Object.keys(o).filter(function(e){return o[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&"),window.open(i)}},{key:"selectCustomer",value:function(e){this.state.customer=e}},{key:"detailLink",value:function(e){var t=e.ticketCode,n="XSDD"===t.slice(0,4).toUpperCase()?"salesorder":"swaporder";return"/market/"+n+"/view/"+t}},{key:"renderAuditButton",value:function(e){var t=this;return e.operations.includes("审核")?React.createElement("span",{className:"table-btn",onClick:function(){return t.setState({auditModalShow:!0,auditModalData:e})}},"审核"):null}},{key:"renderShipButton",value:function(e){var t=this;return e.operations.includes("发货")?React.createElement("span",{className:"table-btn",onClick:function(){return t.context.router.push({pathname:"/market/shiporder/create",query:{id:e.ticketCode}})}},"发货"):null}},{key:"renderTaskItems",value:function(){var e=this;return this.state.data.reduce(function(t,n,a){var r=n.itemList.length,o=n.itemList[0];if(t.push(React.createElement("tr",{className:(0,_["default"])({"table-hlight":a%2,"table-normal":!(a%2)}),key:1e5*(a+1)},React.createElement("td",{rowSpan:r,className:"text-center"},a+1),React.createElement("td",{rowSpan:r,className:"text-center"},React.createElement(g.Link,{to:e.detailLink(n)},n.ticketCode)),React.createElement("td",{rowSpan:r,className:"text-center"},n.ticketType),React.createElement("td",{rowSpan:r,className:"text-center"},n.consumer),React.createElement("td",{className:"text-center"},o.itemName),React.createElement("td",{className:"text-right"},o.count),React.createElement("td",{className:"text-right"},e.currency(o.price)),React.createElement("td",{className:"text-right"},o.unsendCount),React.createElement("td",{rowSpan:r,className:"text-right"},e.currency(n.totalPrice)),React.createElement("td",{rowSpan:r,className:"text-center"},n.applier),React.createElement("td",{rowSpan:r,className:"text-left"},e.renderAuditButton(n),e.renderShipButton(n)))),n.itemList.length>1)for(var i=1;i<n.itemList.length;i++){var l=n.itemList[i];t.push(React.createElement("tr",{key:1e5*(a+1)+100*(i+1),className:(0,_["default"])({"table-hlight":a%2,"table-normal":!(a%2)})},React.createElement("td",{className:"text-center"},l.itemName),React.createElement("td",{className:"text-right"},l.count),React.createElement("td",{className:"text-right"},e.currency(l.price)),React.createElement("td",{className:"text-right"},l.unsendCount)))}return t},[])}},{key:"onValidSubmit",value:function(e){var t=e.pass,n=e.note;P.DashboardActions.approve(this.state.auditModalData.ticketCode,t,n)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"main__content market-wait"},React.createElement(v["default"],{className:"market-wait-block",title:"待处理订单列表"},React.createElement(O.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(O.ValidatedInput,{type:"text",name:"orderCode",label:"　　单据编号："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.Select.Modal,{label:"客户：",value:this.state.consumerId,onSelect:function(t){return e.setState({consumerId:t})}},React.createElement(R.Option,{key:"-100",value:"-100",label:"全部"},"全部"),this.state.customers.map(function(e){return React.createElement(R.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(R.Select.Modal,{label:"单据类型：",value:this.state.type,onSelect:function(t){return e.setState({type:t})}},React.createElement(R.Option,{key:"0",value:"0",label:"全部"},"全部"),React.createElement(R.Option,{key:"1",value:"1",label:"销售订单"},"销售订单"),React.createElement(R.Option,{key:"2",value:"2",label:"换货申请单"},"换货申请单")))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(O.ValidatedInput,{type:"text",name:"itemId",label:"商品编码/名称："})),React.createElement("div",{className:"col-xs-8"},React.createElement("div",{className:"form-group"},React.createElement("label",{className:"control-label"},"　　　　　"),React.createElement("button",{type:"submit",className:"btn btn-primary"},"查询"),React.createElement("button",{className:"btn btn-default",onClick:this["export"],style:{marginLeft:85}},"导出"))))),React.createElement(m["default"],{totalCount:this.state.totalCount,page:this.state.pageNo,pagesize:this.state.pageSize,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"单据号"),React.createElement("th",null,"单据类型"),React.createElement("th",null,"客户"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"数量"),React.createElement("th",null,"金额"),React.createElement("th",null,"未申请发货数量"),React.createElement("th",null,"合计金额"),React.createElement("th",null,"申请人"),React.createElement("th",null,"操作"))),React.createElement("tbody",null,this.renderTaskItems()))),React.createElement(x["default"],{bsSize:"sm",title:"审核",show:this.state.auditModalShow,onHide:function(){return e.setState({auditModalShow:!1})}},React.createElement(O.Form,{onValidSubmit:this.onValidSubmit},React.createElement(x["default"].Body,null,React.createElement(O.RadioGroup,{name:"pass",wrapperClassName:"radio-group-inline"},React.createElement(O.Radio,{value:"0",label:"通过"}),React.createElement(O.Radio,{value:"1",label:"不通过"})),React.createElement(O.ValidatedInput,{type:"textarea",name:"note",placeholder:"请输入备注信息"})),React.createElement(x["default"].FooterOk,{okLabel:"提交"}))),React.createElement(x["default"],{title:"自动发货提示",show:this.state.showConfirmModal,onHide:function(){return e.setState({showConfirmModal:!1})}},React.createElement(x["default"].BodyConfirm,null,this.state.confirmModalData),React.createElement(x["default"].FooterOk,{onOk:function(){return e.setState({showConfirmModal:!1})}})))}}]),t}(p["default"]),c.contextTypes={router:React.PropTypes.object.isRequired},l=s))||l;t["default"]=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WaitOrderStore=t.WaitOrderActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.WaitOrderActions=o["default"].createActions({getWaitOrderList:c});t.WaitOrderStore=o["default"].createStore({listenables:s,onGetWaitOrderList:function(){var e=this;(0,l["default"])({url:"/dashboard/toBeDone",method:"get",data:arguments.length<=0?void 0:arguments[0]}).then(function(t){return e.trigger(t.data,"getWaitOrderListSuccess")},function(t){return e.trigger(t.errmsg,"getWaitOrderListFailed")})}})},function(e,t,n){var a=n(330);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".market-wait{background-color:#fff;border:1px solid #e7e7e7}.market-wait .market-wait-block{border:none}.market-wait table{table-layout:auto}.market-wait form{display:inline-block}.market-wait .form-control{width:200px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"purchase",chunkLoader:function(e){e(n(332),n(333),n(339),n(344),n(349))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(19),u=a(s),d=n(58),p=a(d),f=n(23),m=a(f),h=(0,m["default"])(l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return React.createElement("div",{className:"main"},React.createElement(p["default"],this.props),this.props.children)}}]),t}(u["default"]))||l;t["default"]=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"price",chunkLoader:function(e){e(n(334))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=(n(143),n(149)),d=a(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(19),m=a(f),h=n(34),b=a(h),g=n(9),y=a(g),v=n(49),E=a(v),k=n(23),w=a(k),x=n(69),R=a(x),S=n(52),_=n(335),O=n(336),N=a(O),C=n(25);n(337);var P={UPDATE_PRICE:19,IMPROT_PRICE:20,EXPORT_PRICE:21},T=(0,w["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={totalCount:0,data:[],name:"",itemId:"",curModel:"",supplierName:"",cate:"",pageNo:1,resourceIds:[],showPriceHistoryModal:!1,uploading:!1},i=n,o(a,i)}return i(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(_.PurchaseStore,function(t){e.setState(t)},"getPriceListSuccess"),this.listen(_.PurchaseStore,function(e){0==e&&y["default"].info("更新采购价成功")},"updatePriceSuccess"),this.listen(C.FuncStore,function(t){e.setState({resourceIds:t})},"getResourcesSuccess"),C.FuncActions.getResources(this.context.location.pathname)}},{key:"onSearch",value:function(e){var t=e.itemId,n=e.supplierName;this.state.itemId=t,this.state.supplierName=n,this.onPageSelect({page:1})}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageNo=t,this.state.pageSize=n,this.loadPage()}},{key:"loadPage",value:function(){var e=this.state,t=e.name,n=e.itemId,a=e.supplierName,r=e.cate,o=e.pageNo;_.PurchaseActions.getPriceList(t,n,a,r,o)}},{key:"canExport",value:function(){return this.state.resourceIds.includes(P.EXPORT_PRICE)}},{key:"canImport",value:function(){return this.state.resourceIds.includes(P.IMPROT_PRICE)}},{key:"canEdit",value:function(){return this.state.resourceIds.includes(P.UPDATE_PRICE)}},{key:"export",value:function(){var e=this.state,t=e.name,n=e.itemId,a=e.cate,r=e.supplierName,o={name:t,itemId:n,cate:a,supplierName:r},i="/purchase/item/export?";i+=Object.keys(o).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&"),window.open(i)}},{key:"upload",value:function(e){switch(e.file.status){case"uploading":this.setState({uploading:!0});break;case"done":this.setState({uploading:!1}),0!=e.file.response.errno?y["default"].error(e.file.response.errmsg):(y["default"].info("添加成功"),this.loadPage())}}},{key:"isPositiveInteger",value:function(e){return""!=e&&/^\+?(?:[1-9]\d*|0)?(?:\.\d+)?$/.test(e)}},{key:"updatePrice",value:function(e){var t=e.target.parentNode.children[0].value,n=e.target.getAttribute("data-id");return this.isPositiveInteger(t)?void _.PurchaseActions.updatePrice(n,t):void y["default"].error("输入价格不合法")}},{key:"render",value:function(){var e=this;return React.createElement(E["default"],{className:"main__content purchase-block",title:"采购价管理"},React.createElement(S.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(S.ValidatedInput,{type:"text",name:"itemId",label:"　　　商品编码："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R["default"],{onlyCategory:!1,label:"商品名称：",onChange:function(t){return e.setState({name:t.itemName})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(R["default"],{label:"商品分类：",onChange:function(t){return e.setState({cate:t.id})}}))),React.createElement("div",{className:"col-xs-12 table-operate"},React.createElement("div",{className:"col-xs-4"},React.createElement(S.ValidatedInput,{type:"text",name:"supplierName",label:"供应商编码/名称："})),React.createElement("div",{className:"col-xs-8"},React.createElement("button",{className:"btn btn-primary btn-search"},"查询"),this.canImport()?React.createElement(d["default"],{name:"file",showUploadList:!1,action:"/purchase/item/import",onChange:this.upload,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},React.createElement("button",{type:"button",className:"btn btn-default",disabled:this.state.uploading},"导入")):null,this.canExport()?React.createElement("button",{className:"btn btn-default",onClick:this["export"]},"导出"):null))),React.createElement(b["default"],{totalCount:this.state.totalCount,pagesize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商名称"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",{style:{width:300}},"采购价"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},t.supplierCode),React.createElement("td",{className:"text-center"},t.supplierName),React.createElement("td",{className:"text-center"},React.createElement("span",{className:"table-btn",onClick:function(){return e.setState({showPriceHistoryModal:!0,curModel:{itemId:t.itemId,itemName:t.itemName,itemSpec:t.specName}})}},t.itemId)),React.createElement("td",{className:"text-center"},t.itemName),React.createElement("td",{className:"text-center"},t.specName),React.createElement("td",null,e.canEdit()?React.createElement("div",null,React.createElement("input",{type:"text",className:"form-control",value:null!=t.price?t.price:"",onChange:function(n){t.price=n.target.value,e.forceUpdate()}}),React.createElement("button",{className:"btn btn-update-price",type:"submit","data-id":t.itemId,onClick:e.updatePrice},"确定")):t.price))}))),React.createElement(N["default"],{title:"商品采购价调整历史",show:this.state.showPriceHistoryModal,onHide:function(){return e.setState({showPriceHistoryModal:!1})},model:this.state.curModel}))}}]),t}(m["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseStore=t.PurchaseActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.PurchaseActions=o["default"].createActions({getPriceList:c,getPriceHistory:c,updatePrice:c});t.PurchaseStore=o["default"].createStore({listenables:s,onGetPriceList:function(e,t,n,a,r){var o=this;(0,l["default"])({url:"purchase/item/localQuery",method:"get",data:{name:e,itemId:t,supplierName:n,cate:a,pageNo:r}}).then(function(e){return o.trigger(e.data,"getPriceListSuccess")},function(e){return o.trigger(e.errmsg,"getPriceListFailed")})},onGetPriceHistory:function(e,t){var n=this;(0,l["default"])({url:"purchase/item/priceHistroy",method:"get",data:{itemId:e,pageNo:t}}).then(function(e){return n.trigger(e.data,"getPriceHistorySuccess")},function(e){return n.trigger(e.errmsg,"getPriceHistoryFailed")})},onUpdatePrice:function(e,t){var n=this;(0,l["default"])({url:"purchase/item/updatePrice",method:"post",data:{itemId:e,price:t}}).then(function(e){return n.trigger(e.errno,"updatePriceSuccess")},function(e){return n.trigger(e.errmsg,"updatePriceFailed")})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(19),d=a(u),p=n(39),f=a(p),m=n(34),h=a(m),b=n(23),g=a(b),y=n(335),v=(0,g["default"])(l=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={totalCount:0,data:[],itemId:"",pageNo:1,itemName:"",itemSpec:""},i=n,o(a,i)}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(y.PurchaseStore,function(t){e.setState(t)},"getPriceHistorySuccess")}},{key:"componentWillReceiveProps",value:function(e){!this.props.show&&e.show&&this.setState(c({},e.model))}},{key:"onPageSelect",value:function(e){var t=e.page,n=e.pagesize;this.state.pageNo=t,this.state.pageSize=n,this.loadPage()}},{key:"loadPage",value:function(){var e=this.state,t=e.itemId,n=e.pageNo;y.PurchaseActions.getPriceHistory(t,n)}},{key:"render",value:function(){return React.createElement(f["default"],c({dialogClassName:"price-history-modal"},this.props),React.createElement(f["default"].Body,null,React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-5 text-left info"},"商品编码：",this.state.itemId),React.createElement("div",{className:"col-xs-4 text-left info"},"商品名称：",this.state.itemName),React.createElement("div",{className:"col-xs-3 text-left info"},"规格型号：",this.state.itemSpec)),React.createElement("div",{className:"col-xs-12"},React.createElement(h["default"],{totalCount:this.state.totalCount,pagesize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商名称"),React.createElement("th",null,"调整时间"),React.createElement("th",null,"调整人"),React.createElement("th",null,"调整前采购价"),React.createElement("th",null,"调整后采购价"))),React.createElement("tbody",null,this.state.data.map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",{className:"text-center"},t+1),React.createElement("td",{className:"text-center"},e.supplierCode),React.createElement("td",{className:"text-center"},e.supplierName),React.createElement("td",null,e.time),React.createElement("td",null,e.userName),React.createElement("td",{className:"text-right"},e.before),React.createElement("td",{className:"text-right"},e.after))}))))),React.createElement(f["default"].FooterYesNo,{onNo:this.props.onHide}))}}]),t}(d["default"]))||l;t["default"]=v},function(e,t,n){var a=n(338);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){
t=e.exports=n(12)(),t.push([e.id,".purchase-block form{display:inline-block}.purchase-block .form-control{width:200px}.purchase-block .table-operate .btn{margin-right:20px}.purchase-block .btn-update-price{margin-left:10px;padding:0 10px;line-height:27px;background-color:#fff;border:1px solid #c5cedf;border-radius:3px}.purchase-block .btn-update-price:active,.purchase-block .btn-update-price:focus,.purchase-block .btn-update-price:hover,.purchase-block .btn-update-price:visited{padding:0 10px;line-height:27px;border:1px solid #c5cedf;border-radius:3px;color:#708099}.price-history-modal{width:800px}.price-history-modal .table-responsive{overflow:visible}.price-history-modal .table-responsive table{width:100%;margin:15px auto 20px}.price-history-modal .table-responsive table tbody td{word-wrap:break-word;line-height:normal;white-space:normal}.price-history-modal .modal-footer .btn{display:none}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"sendList",chunkLoader:function(e){e(n(340))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(39),b=(a(h),n(15)),g=n(49),y=a(g),v=n(23),E=a(v),k=n(121),w=a(k),x=n(105),R=n(52),S=n(25),_=n(341),O=n(206);n(342);var N={EXPROT_SENDLIST:22},C=(0,E["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],customer:{id:"",level:"",saleswayname:""},customers:[],totalCount:0,resourceIds:[],beginDate:"",endDate:"",sendBeginDate:"",sendEndDate:"",consumerId:"-100",itemIdOrName:"",orderOrSCode:"",supplierCodeOrName:"",pageNo:1},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(_.PurchaseStore,function(t){e.setState(t)},"getSendOrderListSuccess"),this.listen(O.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(S.FuncStore,function(t){e.setState({resourceIds:t})},"getResourcesSuccess"),S.FuncActions.getResources(this.context.location.pathname),O.CustomerActions.getAllCustomers()}},{key:"onSearch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.state.itemIdOrName=t[0].itemIdOrName,this.state.orderOrSCode=t[0].orderOrSCode,this.state.supplierCodeOrName=t[0].supplierCodeOrName,this.onPageSelect({page:1})}},{key:"loadPage",value:function(){var e=this.state,t=e.beginDate,n=e.endDate,a=e.sendBeginDate,r=e.sendEndDate,o=e.consumerId,i=e.itemIdOrName,l=e.orderOrSCode,c=e.supplierCodeOrName,s=e.pageNo;o==-100&&(o=""),_.PurchaseActions.getSendOrderList({beginDate:t,endDate:n,sendBeginDate:a,sendEndDate:r,consumerId:o,itemIdOrName:i,orderOrSCode:l,supplierCodeOrName:c,pageNo:s})}},{key:"onPageSelect",value:function(e){var t=e.page;this.state.pageNo=t,this.loadPage()}},{key:"currency",value:function(e){e||(e=0);var t=Number(e);return Number.isNaN(e)?e:t<0?"￥-"+Number(Math.abs(t)).toFixed(2):"￥"+Number(t).toFixed(2)}},{key:"sum",value:function(e){return e.reduce(function(e,t){return e+t/1},0)}},{key:"canExport",value:function(){return this.state.resourceIds.includes(N.EXPROT_SENDLIST)}},{key:"export",value:function(){var e=this.state,t=e.beginDate,n=e.endDate,a=e.sendBeginDate,r=e.sendEndDate,o=e.consumerId,i=e.itemIdOrName,l=e.orderOrSCode,c=e.supplierCodeOrName;o==-100&&(o="");var s={beginDate:t,endDate:n,sendBeginDate:a,sendEndDate:r,consumerId:o,itemIdOrName:i,orderOrSCode:l,supplierCodeOrName:c},u="/purchase/exportSendOrder?";u+=Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),window.open(u)}},{key:"originOrderLink",value:function(e){var t=e.orderCode;return"XSDD"===t.slice(0,4).toUpperCase()?"/market/salesorder/view/"+t:"/market/swaporder/view/"+t}},{key:"selectCustomer",value:function(e){this.state.customer=e}},{key:"renderSumRow",value:function(){return this.state.data.length?React.createElement("tr",{key:this.state.data.length,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.currency(this.sum(this.state.data.map(function(e){return e.itemTotalPrice||0})))),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.sum(this.state.data.map(function(e){return e.receiveAmount||0}))),React.createElement("td",{className:"text-right"},this.sum(this.state.data.map(function(e){return e.rejectAmount||0}))),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)):null}},{key:"render",value:function(){var e=this;return React.createElement(y["default"],{className:"main__content purchase-block",title:"订单发货明细"},React.createElement(R.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"单据日期（起）：",onChange:function(t){return e.setState({beginDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"单据日期（止）：",onChange:function(t){return e.setState({endDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(x.Select.Modal,{label:"　　　　客户：",value:this.state.consumerId,onSelect:function(t){return e.setState({consumerId:t})}},React.createElement(x.Option,{key:"-100",value:"-100",label:"全部"},"全部"),this.state.customers.map(function(e){return React.createElement(x.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)})))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"发货日期（起）：",onChange:function(t){return e.setState({sendBeginDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(w["default"],{label:"发货日期（止）：",onChange:function(t){return e.setState({sendEndDate:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"itemIdOrName",label:"商品编码/名称："}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"orderOrSCode",label:"发货单/订单号："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"supplierCodeOrName",label:"供应商编码/名称："}))),React.createElement("div",{className:"col-xs-12 table-operate"},React.createElement("button",{type:"submit",className:"btn btn-primary"},"查询"),this.canExport()?React.createElement("button",{className:"btn btn-default",onClick:this["export"]},"导出"):null)),React.createElement(m["default"],{totalCount:this.state.totalCount,page:this.state.pageNo,pagesize:this.state.pageSize,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"发货申请单号"),React.createElement("th",null,"来源订单号"),React.createElement("th",null,"发货日期"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商名称"),React.createElement("th",null,"实际发货数量"),React.createElement("th",null,"结算价"),React.createElement("th",null,"结算金额"),React.createElement("th",null,"单据状态"),React.createElement("th",null,"单据日期"),React.createElement("th",null,"申请发货日期"),React.createElement("th",null,"签收数量"),React.createElement("th",null,"拒签数量"),React.createElement("th",null,"销售员"),React.createElement("th",null,"收货人"),React.createElement("th",null,"收货人联系方式"),React.createElement("th",null,"物流公司"),React.createElement("th",null,"物流单号"),React.createElement("th",null,"签收/拒签时间"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},React.createElement(b.Link,{to:"/market/shiporder/view/"+t.sendOrderCode},t.sendOrderCode)),React.createElement("td",{className:"text-center"},React.createElement(b.Link,{to:e.originOrderLink(t)},t.orderCode)),React.createElement("td",{className:"text-center"},t.sendDate),React.createElement("td",{className:"text-center"},t.itemId),React.createElement("td",{className:"text-center"},t.itemName),React.createElement("td",{className:"text-center"},t.specName),React.createElement("td",{className:"text-center"},t.supplierCode),React.createElement("td",{className:"text-center"},t.supplierName),React.createElement("td",{className:"text-right"},t.amount),React.createElement("td",{className:"text-right"},t.itemPrice),React.createElement("td",{className:"text-right"},t.itemTotalPrice),React.createElement("td",{className:"text-center"},t.status),React.createElement("td",{className:"text-center"},t.createTime),React.createElement("td",{className:"text-center"},t.applyDate),React.createElement("td",{className:"text-right"},t.receiveAmount),React.createElement("td",{className:"text-right"},t.rejectAmount),React.createElement("td",{className:"text-center"},t.sellerName),React.createElement("td",{className:"text-center"},t.receiveName),React.createElement("td",{className:"text-center"},t.receiveAddress),React.createElement("td",{className:"text-center"},t.expressName),React.createElement("td",{className:"text-center"},t.expressNo),React.createElement("td",{className:"text-center"},t.receiveTime))}),this.renderSumRow())))}}]),t}(p["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseStore=t.PurchaseActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.PurchaseActions=o["default"].createActions({getSendOrderList:c});t.PurchaseStore=o["default"].createStore({listenables:s,onGetSendOrderList:function(){var e=this;(0,l["default"])({url:"purchase/querySendOrder",method:"get",data:arguments.length<=0?void 0:arguments[0]}).then(function(t){return e.trigger(t.data,"getSendOrderListSuccess")},function(t){return e.trigger(t.errmsg,"getSendOrderListFailed")})}})},function(e,t,n){var a=n(343);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".purchase-block form{display:inline-block}.purchase-block .form-control{width:200px}.purchase-block .react-datetimepicker{display:inline-table;position:relative;top:9px;border:1px solid #ebf2f5;border-radius:0;width:200px}.purchase-block .react-datetimepicker .form-control{width:162px}.purchase-block .react-datetimepicker .input-group-addon{color:#8694a9}.purchase-block .react-datetimepicker .rdtPicker .dow{color:#000;text-align:center}.purchase-block .react-datetimepicker .rdtPicker td.rdtDay{text-align:center;vertical-align:middle}.purchase-block .table-operate .btn{margin-right:20px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"resendList",chunkLoader:function(e){e(n(345))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(39),b=(a(h),n(49)),g=a(b),y=n(23),v=a(y),E=n(121),k=a(E),w=n(15),x=n(105),R=n(52),S=n(25),_=n(346),O=n(206);n(347);var N={EXPROT_SENDLIST:23},C=(0,v["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={data:[],customer:{id:"",level:"",saleswayname:""},customers:[],totalCount:0,resourceIds:[],startTime:"",endTime:"",consumerId:"-100",item:"",orderCode:"",supplier:"",pageNo:1},i=n,o(a,i)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.listen(_.PurchaseStore,function(t){e.setState(t)},"getReSendOrderListSuccess"),this.listen(O.CustomerStore,function(t){return e.setState({customers:t})},"getAllCustomerSuccess"),this.listen(S.FuncStore,function(t){e.setState({resourceIds:t})},"getResourcesSuccess"),S.FuncActions.getResources(this.context.location.pathname),O.CustomerActions.getAllCustomers()}},{key:"onSearch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.state.item=t[0].item,this.state.orderCode=t[0].orderCode.trim(),this.state.supplier=t[0].supplier,this.onPageSelect({page:1})}},{key:"loadPage",value:function(){var e=this.state,t=e.startTime,n=e.endTime,a=e.consumerId,r=e.item,o=e.orderCode,i=e.supplier,l=e.pageNo;a==-100&&(a=""),_.PurchaseActions.getReSendOrderList({startTime:t,endTime:n,consumerName:a,item:r,orderCode:o,supplier:i,pageNo:l})}},{key:"onPageSelect",value:function(e){var t=e.page;this.state.pageNo=t,this.loadPage()}},{key:"currency",value:function(e){e||(e=0);var t=Number(e);return Number.isNaN(e)?e:t<0?"￥-"+Number(Math.abs(t)).toFixed(2):"￥"+Number(t).toFixed(2)}},{key:"sum",value:function(e){return e.reduce(function(e,t){return e+t/1},0)}},{key:"canExport",value:function(){return this.state.resourceIds.includes(N.EXPROT_SENDLIST)}},{key:"export",value:function(){var e=this.state,t=e.startTime,n=e.endTime,a=e.consumerId,r=e.item,o=e.orderCode,i=e.supplier;a==-100&&(a="");var l={startTime:t,endTime:n,consumerName:a,item:r,orderCode:o,supplier:i},c="/rebackForSale/export?";c+=Object.keys(l).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(l[e])}).join("&"),window.open(c)}},{key:"selectCustomer",value:function(e){this.state.customer=e}},{key:"renderSumRow",value:function(){return this.state.data.length?React.createElement("tr",{key:this.state.data.length,className:"table-hlight"},React.createElement("td",{className:"text-center"},"合计"),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.sum(this.state.data.map(function(e){return e.num||0}))),React.createElement("td",null),React.createElement("td",{className:"text-right"},this.currency(this.sum(this.state.data.map(function(e){return e.total||0})))),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null),React.createElement("td",null)):null}},{key:"render",value:function(){var e=this;return React.createElement(g["default"],{className:"main__content purchase-block",title:"退货入库明细"},React.createElement(R.Form,{className:"form-horizontal",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(k["default"],{label:"退回日期（起）：",onChange:function(t){return e.setState({startTime:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(k["default"],{label:"退回日期（止）：",onChange:function(t){return e.setState({endTime:t.format("YYYY-MM-DD")})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(x.Select.Modal,{label:"　　　　客户：",value:this.state.consumerId,onSelect:function(t){return e.setState({consumerId:t})}},React.createElement(x.Option,{key:"-100",value:"-100",label:"全部"},"全部"),this.state.customers.map(function(e){return React.createElement(x.Option,{key:e.id,value:e.id,label:e.name,customer:e},e.name)})))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"orderCode",label:"退货入库单号："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"supplier",label:"供应商编码/名称："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.ValidatedInput,{type:"text",name:"item",label:"商品编码/名称："}))),React.createElement("div",{className:"col-xs-12 table-operate"},React.createElement("button",{type:"submit",className:"btn btn-primary"},"查询"),this.canExport()?React.createElement("button",{className:"btn btn-default",onClick:this["export"]},"导出"):null)),React.createElement(m["default"],{totalCount:this.state.totalCount,page:this.state.pageNo,pagesize:this.state.pageSize,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"退货入库单号"),React.createElement("th",null,"退货入库日期"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"规格型号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商编号"),React.createElement("th",null,"数量"),React.createElement("th",null,"结算价"),React.createElement("th",null,"结算金额"),React.createElement("th",null,"客户名称"),React.createElement("th",null,"物流名称"),React.createElement("th",null,"物流单号"),React.createElement("th",null,"收货人"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},React.createElement(w.Link,{to:"/store/returnorder/view/"+t.id},t.code)),React.createElement("td",{className:"text-center"},t.createTime),React.createElement("td",{className:"text-center"},t.itemCode),React.createElement("td",{className:"text-center"},t.itemName),React.createElement("td",{className:"text-center"},t.specName),React.createElement("td",{className:"text-center"},t.supplierCode),React.createElement("td",{className:"text-center"},t.supplierName),React.createElement("td",{className:"text-right"},t.num),React.createElement("td",{className:"text-right"},e.currency(t.settlePrice)),React.createElement("td",{className:"text-right"},e.currency(t.total)),React.createElement("td",{className:"text-center"},t.consumerName),React.createElement("td",{className:"text-center"},t.tmsName),React.createElement("td",{className:"text-center"},t.mailNo),React.createElement("td",{className:"text-center"},t.username))}),this.renderSumRow())))}}]),t}(p["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseStore=t.PurchaseActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.PurchaseActions=o["default"].createActions({getReSendOrderList:c});t.PurchaseStore=o["default"].createStore({listenables:s,onGetReSendOrderList:function(){var e=this;(0,l["default"])({url:"rebackForSale/query",method:"get",data:arguments.length<=0?void 0:arguments[0]}).then(function(t){return e.trigger(t.data,"getReSendOrderListSuccess")},function(t){return e.trigger(t.errmsg,"getReSendOrderListFailed")})}})},function(e,t,n){var a=n(348);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".purchase-block form{display:inline-block}.purchase-block .form-control{width:200px}.purchase-block .react-datetimepicker{display:inline-table;position:relative;top:9px;border:1px solid #ebf2f5;border-radius:0;width:200px}.purchase-block .react-datetimepicker .form-control{width:162px}.purchase-block .react-datetimepicker .input-group-addon{color:#8694a9}.purchase-block .react-datetimepicker .rdtPicker .dow{color:#000;text-align:center}.purchase-block .react-datetimepicker .rdtPicker td.rdtDay{text-align:center;vertical-align:middle}.purchase-block .table-operate .btn{margin-right:20px}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(16);t["default"]=(0,a.RBAuthRoute)({path:"checkList",chunkLoader:function(e){e(n(350))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,c,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(19),p=a(d),f=n(34),m=a(f),h=n(49),b=a(h),g=n(9),y=a(g),v=n(121),E=a(v),k=n(23),w=a(k),x=n(52),R=n(105),S=n(351),_=n(25),O=n(33),N=a(O);n(352);var C={EXPROT_CHECKLIST:24,PRINT_CHECKLIST:25},P=0,T=(0,w["default"])((s=c=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={totalCount:0,data:[],pageNo:1,resourceIds:[],printData:[],printTotalCount:0,year:a.getLastMonth().year,month:a.getLastMonth().month,startTime:"",endTime:"",supplier:"",queryType:0,mask:"hide"},i=n,o(a,i)}return i(t,e),u(t,[{key:"getLastMonth",value:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth();return 0==t&&(t=12,e-=1),{year:e,month:t}}},{key:"componentWillMount",value:function(){var e=this;this.listen(S.PurchaseStore,function(t){e.setState({mask:"hide"}),e.setState(t),e.setState({totalCount:t.totalPage&&t.totalPage>0?10*t.totalPage:0})},"getReportListSuccess"),this.listen(S.PurchaseStore,function(){e.setState({mask:"hide"})},"getReportListFailed"),this.listen(S.PurchaseStore,function(t){e.setState({mask:"hide"}),e.setState({printData:t.data}),e.setState({printTotalCount:t.totalPage&&t.totalPage>0?10*t.totalPage:0}),setTimeout(function(){window.print()},200)},"getReportPrintListSuccess"),this.listen(S.PurchaseStore,function(){e.setState({mask:"hide"})},"getReportPrintListFailed"),this.listen(_.FuncStore,function(t){return e.setState({resourceIds:t})},"getResourcesSuccess"),_.FuncActions.getResources(this.context.location.pathname)}},{key:"onSearch",value:function(){if(!(this.state.year&&this.state.month||this.state.startTime&&this.state.endTime))return void y["default"].error("结算周期必须录入");if(!(this.state.startTime&&this.state.endTime||this.state.year&&this.state.month))return void y["default"].error("结算周期必须录入");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.state.supplier=t[0].supplier,this.onPageSelect({page:1})}},{key:"onPageSelect",value:function(e){var t=e.page;this.state.pageNo=t,this.loadPage()}},{key:"loadPage",value:function(){var e=this.state,t=e.year,n=e.month,a=e.startTime,r=e.endTime,o=e.supplier,i=e.queryType,l=e.pageNo;0==P?(t="",n=""):(this.setState({mask:"show"}),S.PurchaseActions.getReportList({year:t,month:n,startTime:a,endTime:r,supplier:o,queryType:i,page:l})),P++}},{key:"sum",value:function(e){return e.reduce(function(e,t){return e+t/1},0)}},{key:"currency",value:function(e){if(0==e)return 0;if(!e)return"";var t=Number(e);return Number.isNaN(e)?e:t<0?"￥-"+Number(Math.abs(t)).toFixed(2):"￥"+Number(t).toFixed(2)}},{key:"canExport",value:function(){return this.state.resourceIds.includes(C.EXPROT_CHECKLIST)}},{key:"canPrint",value:function(){return this.state.resourceIds.includes(C.PRINT_CHECKLIST)}},{key:"export",value:function(){var e=this.state,t=e.year,n=e.month,a=e.startTime,r=e.endTime,o=e.supplier,i=e.queryType,l=void 0===i?3:i,c={year:t,month:n,startTime:a,endTime:r,supplier:o,queryType:l},s="/report/export?";s+=Object.keys(c).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])}).join("&"),window.open(s)}},{key:"print",value:function(){this.state.tmpData=this.state.data,this.state.tmpTotalCount=this.state.totalCount,this.state.mask="show";var e=this.state,t=e.year,n=e.month,a=e.startTime,r=e.endTime,o=e.supplier,i=e.queryType;S.PurchaseActions.getReportPrintList({year:t,month:n,startTime:a,endTime:r,supplier:o,queryType:i})}},{key:"getYear",value:function(){for(var e=[],t=(new Date).getFullYear(),n=2016;n<=t;n++)e.push(n);return e}},{key:"getMonth",value:function(){for(var e=[],t=1;t<=12;t++)e.push(t);return e}},{key:"render",value:function(){var e=this;return React.createElement(b["default"],{className:"main__content purchase-block",title:"供应商月度对账单"},React.createElement(x.Form,{ref:"tableform",className:"form-horizontal table-form",onValidSubmit:this.onSearch},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4 year-month"},React.createElement(R.Select.Modal,{label:"年：",value:this.state.year,width:"80",onSelect:function(t){e.setState({year:t}),e.setState({startTime:"",endTime:""})}},this.getYear().map(function(e){return React.createElement(R.Option,{key:e,value:e,label:e},e)})),React.createElement(R.Select.Modal,{label:"　　　月：",value:this.state.month,width:"80",onSelect:function(t){e.setState({month:t}),e.setState({startTime:"",endTime:""})}},this.getMonth().map(function(e){return React.createElement(R.Option,{key:e,value:e,label:e},e)}))),React.createElement("div",{className:"col-xs-4"},React.createElement(E["default"],{label:"查询日期（起）：",value:this.state.startTime,onChange:function(t){e.setState({startTime:t.format("YYYY-MM-DD")}),e.setState({year:"",month:""})}})),React.createElement("div",{className:"col-xs-4"},React.createElement(E["default"],{label:"查询日期（止）：",value:this.state.endTime,onChange:function(t){e.setState({endTime:t.format("YYYY-MM-DD")}),e.setState({year:"",month:""})}}))),React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-4"},React.createElement(x.ValidatedInput,{type:"text",name:"supplier",label:"供应商编码/名称："})),React.createElement("div",{className:"col-xs-4"},React.createElement(R.Select.Modal,{label:"　　　　　渠道：",value:0==this.state.queryType?"全部":this.state.queryType,onSelect:function(t){return e.setState({queryType:t})}},React.createElement(R.Option,{key:"0",value:"0",label:"全部"},"全部"),React.createElement(R.Option,{key:"1",value:"1",label:"ToB"},"ToB"),React.createElement(R.Option,{key:"",value:"2",label:"Toc"},"Toc")))),React.createElement("div",{className:"col-xs-12 table-operate"},React.createElement("button",{className:"btn btn-primary"},"查询"),this.canExport()?React.createElement("button",{className:"btn btn-default",onClick:this["export"]},"导出"):null,this.canPrint()?React.createElement("button",{className:"btn btn-default",onClick:this.print},"打印"):null)),React.createElement("div",{className:"table-1"},React.createElement(m["default"],{totalCount:this.state.totalCount,pagesize:this.state.pageSize,page:this.state.pageNo,onPageSelect:this.onPageSelect},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商名称"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"结算价"),React.createElement("th",null,"销售出库数量"),React.createElement("th",null,"退货数量"),React.createElement("th",null,"合计金额"),React.createElement("th",null,"备注"))),React.createElement("tbody",null,this.state.data.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},t.supplier_id),React.createElement("td",{className:"text-center"},t.supplier_name),React.createElement("td",{className:"text-center"},t.item_id),React.createElement("td",{className:"text-center"},t.item_name),React.createElement("td",{className:"text-right"},e.currency(t.settle_price)),React.createElement("td",{className:"text-right"},t.sale_num),React.createElement("td",{className:"text-right"},t.return_num),React.createElement("td",{className:"text-right"},e.currency(t.total)),React.createElement("td",{className:"text-center"},t.remark))})))),React.createElement("div",{className:"table-2"},React.createElement("div",{className:"text-center order-title"},"供应商月度对账单"),React.createElement(m["default"],{totalCount:this.state.printTotalCount,pagesize:this.state.printPageSize,page:this.state.printPageNo},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{style:{width:50}},"序号"),React.createElement("th",null,"供应商编码"),React.createElement("th",null,"供应商名称"),React.createElement("th",null,"商品编码"),React.createElement("th",null,"商品名称"),React.createElement("th",null,"结算价"),React.createElement("th",null,"销售出库数量"),React.createElement("th",null,"退货数量"),React.createElement("th",null,"合计金额"),React.createElement("th",null,"备注"))),React.createElement("tbody",null,this.state.printData.map(function(t,n){return React.createElement("tr",{key:n},React.createElement("td",{className:"text-center"},n+1),React.createElement("td",{className:"text-center"},t.supplier_id),React.createElement("td",{className:"text-center"},t.supplier_name),React.createElement("td",{className:"text-center"},t.item_id),React.createElement("td",{className:"text-center"},t.item_name),React.createElement("td",{className:"text-center"},e.currency(t.settle_price)),React.createElement("td",{
className:"text-right"},t.sale_num),React.createElement("td",{className:"text-right"},t.return_num),React.createElement("td",{className:"text-right"},e.currency(t.total)),React.createElement("td",{className:"text-center"},t.remark))})))),React.createElement("div",{className:(0,N["default"])("mask",{"mask-show":"show"==this.state.mask})},React.createElement("img",{src:"/src/images/loading.gif"})))}}]),t}(p["default"]),c.contextTypes={location:React.PropTypes.object.isRequired},l=s))||l;t["default"]=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseStore=t.PurchaseActions=void 0;var r=n(21),o=a(r),i=n(8),l=a(i),c={asyncResult:!0},s=t.PurchaseActions=o["default"].createActions({getReportList:c,getReportPrintList:c});t.PurchaseStore=o["default"].createStore({listenables:s,onGetReportList:function(){var e=this;(0,l["default"])({url:"report/query",method:"get",data:arguments.length<=0?void 0:arguments[0]}).then(function(t){return e.trigger(t.data,"getReportListSuccess")},function(t){return e.trigger(t.errmsg,"getReportListFailed")})},onGetReportPrintList:function(){var e=this;(0,l["default"])({url:"report/queryPrint",method:"get",data:arguments.length<=0?void 0:arguments[0]}).then(function(t){return e.trigger(t.data,"getReportPrintListSuccess")},function(t){return e.trigger(t.errmsg,"getReportPrintListFailed")})}})},function(e,t,n){var a=n(353);"string"==typeof a&&(a=[[e.id,a,""]]);n(13)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(12)(),t.push([e.id,".purchase-block form{display:inline-block}.purchase-block .form-control{width:200px}.purchase-block .react-datetimepicker{display:inline-table;position:relative;top:9px;border:1px solid #ebf2f5;border-radius:0;width:200px}.purchase-block .react-datetimepicker .form-control{width:162px}.purchase-block .react-datetimepicker .input-group-addon{color:#8694a9}.purchase-block .react-datetimepicker .rdtPicker .dow{color:#000;text-align:center}.purchase-block .react-datetimepicker .rdtPicker td.rdtDay{text-align:center;vertical-align:middle}.purchase-block .table-operate .btn{margin-right:20px}.purchase-block .table-1{display:block}.purchase-block .table-2{display:none}.purchase-block .year-month .select-modal{float:left}.purchase-block .mask{display:none;background-image:none;background-color:#000;opacity:.7;position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000}.purchase-block .mask img{display:block;width:20px;margin:0 auto;margin-top:20%}.purchase-block .mask-show{display:block}@media print{body,html{width:auto;height:auto;overflow:visible}.left-menu+.main__content .block__title{display:none}.order-title{font-size:18px;color:#3a4965}.header,.left-menu,.purchase-block .table-form{display:none}.purchase-block{border:none}.purchase-block .table-1{display:none}.purchase-block .table-2{display:block;position:absolute;left:0}.purchase-block .table-2 table{width:100%}.purchase-block .table-2 table td{word-wrap:break-word;line-height:normal;white-space:normal}}",""])}]);
//# sourceMappingURL=app.bundle.js.map
